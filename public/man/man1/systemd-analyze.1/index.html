<!DOCTYPE html>
<html
    lang="en-us"
    dir="ltr"
>
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Manpages - systemd-analyze.1 | Technical Notes</title>

    <link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/css/syntax.css">
        
        
    </head>
    <body>
        <header class="container header">
            <span class="header__title">Technical Notes</span>
<button id="menuOpenBtn" class="header__menu-open-btn"><i data-lucide="menu"></i></button>

  <nav id="siteNav">
    <ul>
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a href="/notes/">Notes</a>
    </li>
    <li>
      <a aria-current="true" class="ancestor" href="/man/">Manpages</a>
    </li>
    <li>
      <a href="/search/">Search</a>
    </li>
    </ul>
    <button id="menuCloseBtn" class="header__menu-close-btn"><i data-lucide="x"></i></button>
  </nav>


        </header>
        <main class="container">
            
    <h1>Manpages - systemd-analyze.1</h1>
    
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
NAME
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>systemd-analyze - Analyze and debug system manager</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
SYNOPSIS
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p><strong>systemd-analyze</strong> [OPTIONS…] [time]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] blame</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] critical-chain [/UNIT/…]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] dump [/PATTERN/…]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] plot [&gt;file.svg]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] dot [/PATTERN/…] [&gt;file.dot]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] unit-files</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] unit-paths</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] exit-status [/STATUS/…]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] capability [/CAPABILITY/…]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] condition <em>CONDITION</em>…</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] syscall-filter [/SET/…]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] filesystems [/SET/…]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] calendar <em>SPEC</em>…</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] timestamp <em>TIMESTAMP</em>…</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] timespan <em>SPAN</em>…</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] cat-config <em>NAME/|/PATH</em>…</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] compare-versions <em>VERSION1</em> [/OP/]
<em>VERSION2</em></p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] verify <em>FILE</em>…</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] security [/UNIT/…]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] inspect-elf <em>FILE</em>…</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] malloc [/D-BUS SERVICE/…]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] fdstore <em>UNIT</em>…</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] image-policy <em>POLICY</em>…</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] pcrs [/PCR/…]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] srk [/&gt;FILE/]</p>
<p>
<strong>systemd-analyze</strong> [OPTIONS…] architectures [/NAME/…]</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
DESCRIPTION
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p><strong>systemd-analyze</strong> may be used to determine system boot-up performance
statistics and retrieve other state and tracing information from the
system and service manager, and to verify the correctness of unit files.
It is also used to access special functions useful for advanced system
manager debugging.</p>
<p>
If no command is passed, <strong>systemd-analyze time</strong> is implied.</p>
<div id="outline-container-headline-4" class="outline-3">
<h3 id="headline-4">
systemd-analyze time
</h3>
<div id="outline-text-headline-4" class="outline-text-3">
<p>This command prints the time spent in the kernel before userspace has
been reached, the time spent in the initrd before normal system
userspace has been reached, and the time normal system userspace took to
initialize. Note that these measurements simply measure the time passed
up to the point where all system services have been spawned, but not
necessarily until they fully finished initialization or the disk is
idle.</p>
<p>
<strong>Example 1. Show how long the boot took</strong></p>
<blockquote>
<pre class="example">
# in a container
$ systemd-analyze time
Startup finished in 296ms (userspace)
multi-user.target reached after 275ms in userspace

# on a real machine
$ systemd-analyze time
Startup finished in 2.584s (kernel) + 19.176s (initrd) + 47.847s (userspace) = 1min 9.608s
multi-user.target reached after 47.820s in userspace
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-5" class="outline-3">
<h3 id="headline-5">
systemd-analyze blame
</h3>
<div id="outline-text-headline-5" class="outline-text-3">
<p>This command prints a list of all running units, ordered by the time
they took to initialize. This information may be used to optimize
boot-up times. Note that the output might be misleading as the
initialization of one service might be slow simply because it waits for
the initialization of another service to complete. Also note:
<strong>systemd-analyze blame</strong> doesnt display results for services with
<em>Type=simple</em>, because systemd considers such services to be started
immediately, hence no measurement of the initialization delays can be
done. Also note that this command only shows the time units took for
starting up, it does not show how long unit jobs spent in the execution
queue. In particular it shows the time units spent in &#34;activating&#34;
state, which is not defined for units such as device units that
transition directly from &#34;inactive&#34; to &#34;active&#34;. This command hence
gives an impression of the performance of program code, but cannot
accurately reflect latency introduced by waiting for hardware and
similar events.</p>
<p>
<strong>Example 2. Show which units took the most time during boot</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze blame
         32.875s pmlogger.service
         20.905s systemd-networkd-wait-online.service
         13.299s dev-vda1.device
         ...
            23ms sysroot.mount
            11ms initrd-udevadm-cleanup-db.service
             3ms sys-kernel-config.mount
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-6" class="outline-3">
<h3 id="headline-6">
systemd-analyze critical-chain [/UNIT/…]
</h3>
<div id="outline-text-headline-6" class="outline-text-3">
<p>This command prints a tree of the time-critical chain of units (for each
of the specified /UNIT/s or for the default target otherwise). The time
after the unit is active or started is printed after the &#34;@&#34; character.
The time the unit takes to start is printed after the &#34;+&#34; character.
Note that the output might be misleading as the initialization of
services might depend on socket activation and because of the parallel
execution of units. Also, similarly to the <strong>blame</strong> command, this only
takes into account the time units spent in &#34;activating&#34; state, and hence
does not cover units that never went through an &#34;activating&#34; state (such
as device units that transition directly from &#34;inactive&#34; to &#34;active&#34;).
Moreover it does not show information on jobs (and in particular not
jobs that timed out).</p>
<p>
<strong>Example 3. systemd-analyze critical-chain</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze critical-chain
multi-user.target @47.820s
└─pmie.service @35.968s +548ms
  └─pmcd.service @33.715s +2.247s
    └─network-online.target @33.712s
      └─systemd-networkd-wait-online.service @12.804s +20.905s
        └─systemd-networkd.service @11.109s +1.690s
          └─systemd-udevd.service @9.201s +1.904s
            └─systemd-tmpfiles-setup-dev.service @7.306s +1.776s
              └─kmod-static-nodes.service @6.976s +177ms
                └─systemd-journald.socket
                  └─system.slice
                    └─-.slice
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-7" class="outline-3">
<h3 id="headline-7">
systemd-analyze dump [/pattern/…]
</h3>
<div id="outline-text-headline-7" class="outline-text-3">
<p>Without any parameter, this command outputs a (usually very long)
human-readable serialization of the complete service manager state.
Optional glob pattern may be specified, causing the output to be limited
to units whose names match one of the patterns. The output format is
subject to change without notice and should not be parsed by
applications. This command is rate limited for unprivileged users.</p>
<p>
<strong>Example 4. Show the internal state of user manager</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze --user dump
Timestamp userspace: Thu 2019-03-14 23:28:07 CET
Timestamp finish: Thu 2019-03-14 23:28:07 CET
Timestamp generators-start: Thu 2019-03-14 23:28:07 CET
Timestamp generators-finish: Thu 2019-03-14 23:28:07 CET
Timestamp units-load-start: Thu 2019-03-14 23:28:07 CET
Timestamp units-load-finish: Thu 2019-03-14 23:28:07 CET
-&gt; Unit proc-timer_list.mount:
        Description: /proc/timer_list
        ...
-&gt; Unit default.target:
        Description: Main user target
...
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-8" class="outline-3">
<h3 id="headline-8">
systemd-analyze malloc [/D-Bus service/…]
</h3>
<div id="outline-text-headline-8" class="outline-text-3">
<p>This command can be used to request the output of the internal memory
state (as returned by *malloc_info*(3)) of a D-Bus service. If no
service is specified, the query will be sent to org.freedesktop.systemd1
(the system or user service manager). The output format is not
guaranteed to be stable and should not be parsed by applications.</p>
<p>
The service must implement the org.freedesktop.MemoryAllocation1
interface. In the systemd suite, it is currently only implemented by the
manager.</p>
</div>
</div>
<div id="outline-container-headline-9" class="outline-3">
<h3 id="headline-9">
systemd-analyze plot
</h3>
<div id="outline-text-headline-9" class="outline-text-3">
<p>This command prints either an SVG graphic, detailing which system
services have been started at what time, highlighting the time they
spent on initialization, or the raw time data in JSON or table format.</p>
<p>
<strong>Example 5. Plot a bootchart</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze plot &gt;bootup.svg
$ eog bootup.svg&amp;
</pre>
</blockquote>
<p>
Note that this plot is based on the most recent per-unit timing data of
loaded units. This means that if a unit gets started, then stopped and
then started again the information shown will cover the most recent
start cycle, not the first one. Thus its recommended to consult this
information only shortly after boot, so that this distinction doesnt
matter. Moreover, units that are not referenced by any other unit
through a dependency might be unloaded by the service manager once they
terminate (and did not fail). Such units will not show up in the plot.</p>
</div>
</div>
<div id="outline-container-headline-10" class="outline-3">
<h3 id="headline-10">
systemd-analyze dot [/pattern/…]
</h3>
<div id="outline-text-headline-10" class="outline-text-3">
<p>This command generates textual dependency graph description in dot
format for further processing with the GraphViz <strong>dot*(1) tool. Use a
command line like *systemd-analyze dot | dot -Tsvg &gt;systemd.svg</strong> to
generate a graphical dependency tree. Unless <strong>–order</strong> or <strong>–require</strong> is
passed, the generated graph will show both ordering and requirement
dependencies. Optional pattern globbing style specifications (e.g.
​*.target) may be given at the end. A unit dependency is included in the
graph if any of these patterns match either the origin or destination
node.</p>
<p>
<strong>Example 6. Plot all dependencies of any unit whose name starts with
&#34;avahi-daemon&#34;</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze dot avahi-daemon.* | dot -Tsvg &gt;avahi.svg
$ eog avahi.svg
</pre>
</blockquote>
<p>
<strong>Example 7. Plot the dependencies between all known target units</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze dot --to-pattern=*.target --from-pattern=*.target \
      | dot -Tsvg &gt;targets.svg
$ eog targets.svg
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-11" class="outline-3">
<h3 id="headline-11">
systemd-analyze unit-paths
</h3>
<div id="outline-text-headline-11" class="outline-text-3">
<p>This command outputs a list of all directories from which unit files, .d
overrides, and .wants, .requires symlinks may be loaded. Combine with
<strong>–user</strong> to retrieve the list for the user manager instance, and
<strong>–global</strong> for the global configuration of user manager instances.</p>
<p>
<strong>Example 8. Show all paths for generated units</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze unit-paths | grep ^/run
/run/systemd/system.control
/run/systemd/transient
/run/systemd/generator.early
/run/systemd/system
/run/systemd/system.attached
/run/systemd/generator
/run/systemd/generator.late
</pre>
</blockquote>
<p>
Note that this verb prints the list that is compiled into
<strong>systemd-analyze</strong> itself, and does not communicate with the running
manager. Use</p>
<blockquote>
<pre class="example">
systemctl [--user] [--global] show -p UnitPath --value
</pre>
</blockquote>
<p>
to retrieve the actual list that the manager uses, with any empty
directories omitted.</p>
</div>
</div>
<div id="outline-container-headline-12" class="outline-3">
<h3 id="headline-12">
systemd-analyze exit-status [/STATUS/…]
</h3>
<div id="outline-text-headline-12" class="outline-text-3">
<p>This command prints a list of exit statuses along with their &#34;class&#34;,
i.e. the source of the definition (one of &#34;glibc&#34;, &#34;systemd&#34;, &#34;LSB&#34;, or
&#34;BSD&#34;), see the Process Exit Codes section in *systemd.exec*(5). If no
additional arguments are specified, all known statuses are shown.
Otherwise, only the definitions for the specified codes are shown.</p>
<p>
<strong>Example 9. Show some example exit status names</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze exit-status 0 1 {63..65}
NAME    STATUS CLASS
SUCCESS 0      glibc
FAILURE 1      glibc
-       63     -
USAGE   64     BSD
DATAERR 65     BSD
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-13" class="outline-3">
<h3 id="headline-13">
systemd-analyze capability [/CAPABILITY/…]
</h3>
<div id="outline-text-headline-13" class="outline-text-3">
<p>This command prints a list of Linux capabilities along with their
numeric IDs. See *capabilities*(7) for details. If no argument is
specified the full list of capabilities known to the service manager and
the kernel is shown. Capabilities defined by the kernel but not known to
the service manager are shown as &#34;cap_???&#34;. Optionally, if arguments are
specified they may refer to specific cabilities by name or numeric ID,
in which case only the indicated capabilities are shown in the table.</p>
<p>
<strong>Example 10. Show some example capability names</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze capability 0 1 {30..32}
NAME              NUMBER
cap_chown              0
cap_dac_override       1
cap_audit_control     30
cap_setfcap           31
cap_mac_override      32
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-14" class="outline-3">
<h3 id="headline-14">
systemd-analyze condition <em>CONDITION</em>…
</h3>
<div id="outline-text-headline-14" class="outline-text-3">
<p>This command will evaluate <em>Condition*=…</em> and <em>Assert*=…</em>
assignments, and print their values, and the resulting value of the
combined condition set. See *systemd.unit*(5) for a list of available
conditions and asserts.</p>
<p>
<strong>Example 11. Evaluate conditions that check kernel versions</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze condition ConditionKernelVersion = ! &lt;4.0 \
        ConditionKernelVersion = &gt;=5.1 \
        ConditionACPower=|false \
        ConditionArchitecture=|!arm \
        AssertPathExists=/etc/os-release
test.service: AssertPathExists=/etc/os-release succeeded.
Asserts succeeded.
test.service: ConditionArchitecture=|!arm succeeded.
test.service: ConditionACPower=|false failed.
test.service: ConditionKernelVersion=&gt;=5.1 succeeded.
test.service: ConditionKernelVersion=!&lt;4.0 succeeded.
Conditions succeeded.
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-15" class="outline-3">
<h3 id="headline-15">
systemd-analyze syscall-filter [/SET/…]
</h3>
<div id="outline-text-headline-15" class="outline-text-3">
<p>This command will list system calls contained in the specified system
call set <em>SET</em>, or all known sets if no sets are specified. Argument
<em>SET</em> must include the &#34;@&#34; prefix.</p>
</div>
</div>
<div id="outline-container-headline-16" class="outline-3">
<h3 id="headline-16">
systemd-analyze filesystems [/SET/…]
</h3>
<div id="outline-text-headline-16" class="outline-text-3">
<p>This command will list filesystems in the specified filesystem set
<em>SET</em>, or all known sets if no sets are specified. Argument <em>SET</em> must
include the &#34;@&#34; prefix.</p>
</div>
</div>
<div id="outline-container-headline-17" class="outline-3">
<h3 id="headline-17">
systemd-analyze calendar <em>EXPRESSION</em>…
</h3>
<div id="outline-text-headline-17" class="outline-text-3">
<p>This command will parse and normalize repetitive calendar time events,
and will calculate when they elapse next. This takes the same input as
the <em>OnCalendar=</em> setting in *systemd.timer*(5), following the syntax
described in <strong>systemd.time*(7). By default, only the next time the
calendar expression will elapse is shown; use *–iterations=</strong> to show
the specified number of next times the expression elapses. Each time the
expression elapses forms a timestamp, see the <strong>timestamp</strong> verb below.</p>
<p>
<strong>Example 12. Show leap days in the near future</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze calendar --iterations=5 *-2-29 0:0:0
  Original form: *-2-29 0:0:0
Normalized form: *-02-29 00:00:00
    Next elapse: Sat 2020-02-29 00:00:00 UTC
       From now: 11 months 15 days left
       Iter. #2: Thu 2024-02-29 00:00:00 UTC
       From now: 4 years 11 months left
       Iter. #3: Tue 2028-02-29 00:00:00 UTC
       From now: 8 years 11 months left
       Iter. #4: Sun 2032-02-29 00:00:00 UTC
       From now: 12 years 11 months left
       Iter. #5: Fri 2036-02-29 00:00:00 UTC
       From now: 16 years 11 months left
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-18" class="outline-3">
<h3 id="headline-18">
systemd-analyze timestamp <em>TIMESTAMP</em>…
</h3>
<div id="outline-text-headline-18" class="outline-text-3">
<p>This command parses a timestamp (i.e. a single point in time) and
outputs the normalized form and the difference between this timestamp
and now. The timestamp should adhere to the syntax documented in
*systemd.time*(7), section &#34;PARSING TIMESTAMPS&#34;.</p>
<p>
<strong>Example 13. Show parsing of timestamps</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze timestamp yesterday now tomorrow
  Original form: yesterday
Normalized form: Mon 2019-05-20 00:00:00 CEST
       (in UTC): Sun 2019-05-19 22:00:00 UTC
   UNIX seconds: @15583032000
       From now: 1 day 9h ago

  Original form: now
Normalized form: Tue 2019-05-21 09:48:39 CEST
       (in UTC): Tue 2019-05-21 07:48:39 UTC
   UNIX seconds: @1558424919.659757
       From now: 43us ago

  Original form: tomorrow
Normalized form: Wed 2019-05-22 00:00:00 CEST
       (in UTC): Tue 2019-05-21 22:00:00 UTC
   UNIX seconds: @15584760000
       From now: 14h left
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-19" class="outline-3">
<h3 id="headline-19">
systemd-analyze timespan <em>EXPRESSION</em>…
</h3>
<div id="outline-text-headline-19" class="outline-text-3">
<p>This command parses a time span (i.e. a difference between two
timestamps) and outputs the normalized form and the equivalent value in
microseconds. The time span should adhere to the syntax documented in
*systemd.time*(7), section &#34;PARSING TIME SPANS&#34;. Values without units
are parsed as seconds.</p>
<p>
<strong>Example 14. Show parsing of timespans</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze timespan 1s 300s 1year 0.000001s
Original: 1s
      μs: 1000000
   Human: 1s

Original: 300s
      μs: 300000000
   Human: 5min

Original: 1year 0.000001s
      μs: 31557600000001
   Human: 1y 1us
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-20" class="outline-3">
<h3 id="headline-20">
systemd-analyze cat-config <em>NAME/|/PATH</em>…
</h3>
<div id="outline-text-headline-20" class="outline-text-3">
<p>This command is similar to <strong>systemctl cat</strong>, but operates on config
files. It will copy the contents of a config file and any drop-ins to
standard output, using the usual systemd set of directories and rules
for precedence. Each argument must be either an absolute path including
the prefix (such as /etc/systemd/logind.conf or
/usr/lib/systemd/logind.conf), or a name relative to the prefix (such as
systemd/logind.conf).</p>
<p>
<strong>Example 15. Showing logind configuration</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze cat-config systemd/logind.conf
# /etc/systemd/logind.conf
...
[Login]
NAutoVTs=8
...

# /usr/lib/systemd/logind.conf.d/20-test.conf
... some override from another package

# /etc/systemd/logind.conf.d/50-override.conf
... some administrator override
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-21" class="outline-3">
<h3 id="headline-21">
systemd-analyze compare-versions <em>VERSION1</em> [/OP/] <em>VERSION2</em>
</h3>
<div id="outline-text-headline-21" class="outline-text-3">
<p>This command has two distinct modes of operation, depending on whether
the operator <em>OP</em> is specified.</p>
<p>
In the first mode — when <em>OP</em> is not specified — it will compare the
two version strings and print either &#34;<em>VERSION1</em> &lt; <em>VERSION2</em>&#34;, or
&#34;<em>VERSION1</em> == <em>VERSION2</em>&#34;, or &#34;<em>VERSION1</em> &gt; <em>VERSION2</em>&#34; as appropriate.</p>
<p>
The exit status is <strong>0</strong> if the versions are equal, <strong>11</strong> if the version of
the right is smaller, and <strong>12</strong> if the version of the left is smaller.
(This matches the convention used by <strong>rpmdev-vercmp</strong>.)</p>
<p>
In the second mode — when <em>OP</em> is specified — it will compare the
two version strings using the operation <em>OP</em> and return <strong>0</strong> (success) if
they condition is satisfied, and <strong>1</strong> (failure) otherwise. <strong>OP</strong> may be
<strong>lt</strong>, <strong>le</strong>, <strong>eq</strong>, <strong>ne</strong>, <strong>ge</strong>, <strong>gt</strong>. In this mode, no output is printed.
(This matches the convention used by <strong>dpkg*(1) *–compare-versions</strong>.)</p>
<p>
<strong>Example 16. Compare versions of a package</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze compare-versions systemd-250~rc1.fc36.aarch64 systemd-251.fc36.aarch64
systemd-250~rc1.fc36.aarch64 &lt; systemd-251.fc36.aarch64
$ echo $?
12

$ systemd-analyze compare-versions 1 lt 2; echo $?
0
$ systemd-analyze compare-versions 1 ge 2; echo $?
1
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-22" class="outline-3">
<h3 id="headline-22">
systemd-analyze verify <em>FILE</em>…
</h3>
<div id="outline-text-headline-22" class="outline-text-3">
<p>This command will load unit files and print warnings if any errors are
detected. Files specified on the command line will be loaded, but also
any other units referenced by them. A units name on disk can be
overridden by specifying an alias after a colon; see below for an
example. The full unit search path is formed by combining the
directories for all command line arguments, and the usual unit load
paths. The variable <em>$SYSTEMD_UNIT_PATH</em> is supported, and may be used
to replace or augment the compiled in set of unit load paths; see
*systemd.unit*(5). All units files present in the directories containing
the command line arguments will be used in preference to the other
paths.</p>
<p>
The following errors are currently detected:</p>
<blockquote>
<p>·</p>
<p>
unknown sections and directives,</p>
</blockquote>
<blockquote>
<p>·</p>
<p>
missing dependencies which are required to start the given unit,</p>
</blockquote>
<blockquote>
<p>·</p>
<p>
man pages listed in <em>Documentation=</em> which are not found in the system,</p>
</blockquote>
<blockquote>
<p>·</p>
<p>
commands listed in <em>ExecStart=</em> and similar which are not found in the
system or not executable.</p>
</blockquote>
<p>
<strong>Example 17. Misspelt directives</strong></p>
<blockquote>
<pre class="example">
$ cat ./user.slice
[Unit]
WhatIsThis=11
Documentation=man:nosuchfile(1)
Requires=different.service

[Service]
Description=x

$ systemd-analyze verify ./user.slice
[./user.slice:9] Unknown lvalue WhatIsThis in section Unit
[./user.slice:13] Unknown section Service. Ignoring.
Error: org.freedesktop.systemd1.LoadFailed:
   Unit different.service failed to load:
   No such file or directory.
Failed to create user.slice/start: Invalid argument
user.slice: man nosuchfile(1) command failed with code 16
</pre>
</blockquote>
<p>
<strong>Example 18. Missing service units</strong></p>
<blockquote>
<pre class="example">
$ tail ./a.socket ./b.socket
==&gt; ./a.socket &lt;==
[Socket]
ListenStream=100

==&gt; ./b.socket &lt;==
[Socket]
ListenStream=100
Accept=yes

$ systemd-analyze verify ./a.socket ./b.socket
Service a.service not loaded, a.socket cannot be started.
Service b@0.service not loaded, b.socket cannot be started.
</pre>
</blockquote>
<p>
<strong>Example 19. Aliasing a unit</strong></p>
<blockquote>
<pre class="example">
$ cat /tmp/source
[Unit]
Description=Hostname printer

[Service]
Type=simple
ExecStart=/usr/nix/store/ph44jcx3ddmlwh394mh1wb7f1qigxqb1-coreutils-9.5/bin/echo %H
MysteryKey=true

$ systemd-analyze verify /tmp/source
Failed to prepare filename /tmp/source: Invalid argument

$ systemd-analyze verify /tmp/source:alias.service
alias.service:7: Unknown key name MysteryKey in section Service, ignoring.
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-23" class="outline-3">
<h3 id="headline-23">
systemd-analyze security [/UNIT/…]
</h3>
<div id="outline-text-headline-23" class="outline-text-3">
<p>This command analyzes the security and sandboxing settings of one or
more specified service units. If at least one unit name is specified the
security settings of the specified service units are inspected and a
detailed analysis is shown. If no unit name is specified, all currently
loaded, long-running service units are inspected and a terse table with
results shown. The command checks for various security-related service
settings, assigning each a numeric &#34;exposure level&#34; value, depending on
how important a setting is. It then calculates an overall exposure level
for the whole unit, which is an estimation in the range 0.0…10.0
indicating how exposed a service is security-wise. High exposure levels
indicate very little applied sandboxing. Low exposure levels indicate
tight sandboxing and strongest security restrictions. Note that this
only analyzes the per-service security features systemd itself
implements. This means that any additional security mechanisms applied
by the service code itself are not accounted for. The exposure level
determined this way should not be misunderstood: a high exposure level
neither means that there is no effective sandboxing applied by the
service code itself, nor that the service is actually vulnerable to
remote or local attacks. High exposure levels do indicate however that
most likely the service might benefit from additional settings applied
to them.</p>
<p>
Please note that many of the security and sandboxing settings
individually can be circumvented — unless combined with others. For
example, if a service retains the privilege to establish or undo mount
points many of the sandboxing options can be undone by the service code
itself. Due to that is essential that each service uses the most
comprehensive and strict sandboxing and security settings possible. The
tool will take into account some of these combinations and relationships
between the settings, but not all. Also note that the security and
sandboxing settings analyzed here only apply to the operations executed
by the service code itself. If a service has access to an IPC system
(such as D-Bus) it might request operations from other services that are
not subject to the same restrictions. Any comprehensive security and
sandboxing analysis is hence incomplete if the IPC access policy is not
validated too.</p>
<p>
<strong>Example 20. Analyze systemd-logind.service</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze security --no-pager systemd-logind.service
  NAME                DESCRIPTION                              EXPOSURE
✗ PrivateNetwork=     Service has access to the hosts network      0.5
✗ User=/DynamicUser=  Service runs as root user                     0.4
✗ DeviceAllow=        Service has no device ACL                     0.2
✓ IPAddressDeny=      Service blocks all IP address ranges
...
→ Overall exposure level for systemd-logind.service: 4.1 OK 🙂
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-24" class="outline-3">
<h3 id="headline-24">
systemd-analyze inspect-elf <em>FILE</em>…
</h3>
<div id="outline-text-headline-24" class="outline-text-3">
<p>This command will load the specified files, and if they are ELF objects
(executables, libraries, core files, etc.) it will parse the embedded
packaging metadata, if any, and print it in a table or json format. See
the <strong>Packaging Metadata</strong>[1] documentation for more information.</p>
<p>
<strong>Example 21. Print information about a core file as JSON</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze inspect-elf --json=pretty \
        core.fsverity.1000.f77dac5dc161402aa44e15b7dd9dcf97.58561.1637106137000000
{
        &#34;elfType&#34; : &#34;coredump&#34;,
        &#34;elfArchitecture&#34; : &#34;AMD x86-64&#34;,
        &#34;/home/bluca/git/fsverity-utils/fsverity&#34; : {
                &#34;type&#34; : &#34;deb&#34;,
                &#34;name&#34; : &#34;fsverity-utils&#34;,
                &#34;version&#34; : &#34;1.3-1&#34;,
                &#34;buildId&#34; : &#34;7c895ecd2a271f93e96268f479fdc3c64a2ec4ee&#34;
        },
        &#34;/home/bluca/git/fsverity-utils/libfsverity.so.0&#34; : {
                &#34;type&#34; : &#34;deb&#34;,
                &#34;name&#34; : &#34;fsverity-utils&#34;,
                &#34;version&#34; : &#34;1.3-1&#34;,
                &#34;buildId&#34; : &#34;b5e428254abf14237b0ae70ed85fffbb98a78f88&#34;
        }
}
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-25" class="outline-3">
<h3 id="headline-25">
systemd-analyze fdstore <em>UNIT</em>…
</h3>
<div id="outline-text-headline-25" class="outline-text-3">
<p>Lists the current contents of the specified service units file
descriptor store. This shows names, inode types, device numbers, inode
numbers, paths and open modes of the open file descriptors. The
specified units must have <em>FileDescriptorStoreMax=</em> enabled, see
*systemd.service*(5) for details.</p>
<p>
<strong>Example 22. Table output</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze fdstore systemd-journald.service
FDNAME TYPE DEVNO   INODE RDEVNO PATH             FLAGS
stored sock 0:8   4218620 -      socket:[4218620] ro
stored sock 0:8   4213198 -      socket:[4213198] ro
stored sock 0:8   4213190 -      socket:[4213190] ro
...
</pre>
</blockquote>
<p>
Note: the &#34;DEVNO&#34; column refers to the major/minor numbers of the device
node backing the file system the file descriptors inode is on. The
&#34;RDEVNO&#34; column refers to the major/minor numbers of the device node
itself if the file descriptor refers to one. Compare with corresponding
<em>.st_dev</em> and <em>.st_rdev</em> fields in <strong>struct stat</strong> (see *stat*(2) for
details). The listed inode numbers in the &#34;INODE&#34; column are on the file
system indicated by &#34;DEVNO&#34;.</p>
</div>
</div>
<div id="outline-container-headline-26" class="outline-3">
<h3 id="headline-26">
systemd-analyze image-policy <em>POLICY</em>…
</h3>
<div id="outline-text-headline-26" class="outline-text-3">
<p>This command analyzes the specified image policy string, as per
*systemd.image-policy*(7). The policy is normalized and simplified. For
each currently defined partition identifier (as per the <strong>Discoverable
Partitions Specification</strong>[2]) the effect of the image policy string is
shown in tabular form.</p>
<p>
<strong>Example 23. Example Output</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze image-policy swap=encrypted:usr=read-only-on+verity:root=encrypted
Analyzing policy: root=encrypted:usr=verity+read-only-on:swap=encrypted
       Long form: root=encrypted:usr=verity+read-only-on:swap=encrypted:=unused+absent

PARTITION       MODE        READ-ONLY GROWFS
root            encrypted   -         -
usr             verity      yes       -
home            ignore      -         -
srv             ignore      -         -
esp             ignore      -         -
xbootldr        ignore      -         -
swap            encrypted   -         -
root-verity     ignore      -         -
usr-verity      unprotected yes       -
root-verity-sig ignore      -         -
usr-verity-sig  ignore      -         -
tmp             ignore      -         -
var             ignore      -         -
default         ignore      -         -
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-27" class="outline-3">
<h3 id="headline-27">
systemd-analyze pcrs [/PCR/…]
</h3>
<div id="outline-text-headline-27" class="outline-text-3">
<p>This command shows the known TPM2 PCRs along with their identifying
names and current values.</p>
<p>
<strong>Example 24. Example Output</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze pcrs
NR NAME                SHA256
 0 platform-code       bcd2eb527108bbb1f5528409bcbe310aa9b74f687854cc5857605993f3d9eb11
 1 platform-config     b60622856eb7ce52637b80f30a520e6e87c347daa679f3335f4f1a600681bb01
 2 external-code       1471262403e9a62f9c392941300b4807fbdb6f0bfdd50abfab752732087017dd
 3 external-config     3d458cfe55cc03ea1f443f1562beec8df51c75e14a9fcf9a7234a13f198e7969
 4 boot-loader-code    939f7fa1458e1f7ce968874d908e524fc0debf890383d355e4ce347b7b78a95c
 5 boot-loader-config  864c61c5ea5ecbdb6951e6cb6d9c1f4b4eac79772f7fe13b8bece569d83d3768
 6 -                   3d458cfe55cc03ea1f443f1562beec8df51c75e14a9fcf9a7234a13f198e7969
 7 secure-boot-policy  9c905bd9b9891bfb889b90a54c4b537b889cfa817c4389cc25754823a9443255
 8 -                   0000000000000000000000000000000000000000000000000000000000000000
 9 kernel-initrd       9caa29b128113ef42aa53d421f03437be57211e5ebafc0fa8b5d4514ee37ff0c
10 ima                 5ea9e3dab53eb6b483b6ec9e3b2c712bea66bca1b155637841216e0094387400
11 kernel-boot         0000000000000000000000000000000000000000000000000000000000000000
12 kernel-config       627ffa4b405e911902fe1f1a8b0164693b31acab04f805f15bccfe2209c7eace
13 sysexts             0000000000000000000000000000000000000000000000000000000000000000
14 shim-policy         0000000000000000000000000000000000000000000000000000000000000000
15 system-identity     0000000000000000000000000000000000000000000000000000000000000000
16 debug               0000000000000000000000000000000000000000000000000000000000000000
17 -                   ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
18 -                   ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
19 -                   ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
20 -                   ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
21 -                   ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
22 -                   ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
23 application-support 0000000000000000000000000000000000000000000000000000000000000000
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-28" class="outline-3">
<h3 id="headline-28">
systemd-analyze srk [&gt;/FILE/]
</h3>
<div id="outline-text-headline-28" class="outline-text-3">
<p>This command reads the Storage Root Key (SRK) from the TPM2 device, and
writes it in marshalled TPM2B_PUBLIC format to stdout. The output is
non-printable data, so it should be redirected to a file or into a pipe.</p>
<p>
<strong>Example 25. Save the Storage Root Key to srk.tpm2b_public</strong></p>
<blockquote>
<pre class="example">
systemd-analyze srk &gt;srk.tpm2b_public
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-29" class="outline-3">
<h3 id="headline-29">
systemd-analyze architectures [/NAME/…]
</h3>
<div id="outline-text-headline-29" class="outline-text-3">
<p>Lists all known CPU architectures, and which ones are native. The listed
architecture names are those <em>ConditionArchitecture=</em> supports, see
*systemd.unit*(5) for details. If architecture names are specified only
those specified are listed.</p>
<p>
<strong>Example 26. Table output</strong></p>
<blockquote>
<pre class="example">
$ systemd-analyze architectures
NAME        SUPPORT
alpha       foreign
arc         foreign
arc-be      foreign
arm         foreign
arm64       foreign
...
sparc       foreign
sparc64     foreign
tilegx      foreign
x86         secondary
x86-64      native
</pre>
</blockquote>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-30" class="outline-2">
<h2 id="headline-30">
OPTIONS
</h2>
<div id="outline-text-headline-30" class="outline-text-2">
<p>The following options are understood:</p>
<p>
<strong>–system</strong></p>
<blockquote>
<p>Operates on the system systemd instance. This is the implied default.</p>
<p>
Added in version 209.</p>
</blockquote>
<p>
<strong>–user</strong></p>
<blockquote>
<p>Operates on the user systemd instance.</p>
<p>
Added in version 186.</p>
</blockquote>
<p>
<strong>–global</strong></p>
<blockquote>
<p>Operates on the system-wide configuration for user systemd instance.</p>
<p>
Added in version 238.</p>
</blockquote>
<p>
<strong>–order</strong>, <strong>–require</strong></p>
<blockquote>
<p>When used in conjunction with the <strong>dot</strong> command (see above), selects
which dependencies are shown in the dependency graph. If <strong>–order</strong> is
passed, only dependencies of type <em>After=</em> or <em>Before=</em> are shown. If
<strong>–require</strong> is passed, only dependencies of type <em>Requires=</em>,
<em>Requisite=</em>, <em>BindsTo=</em>, <em>Wants=</em>, and <em>Conflicts=</em> are shown. If
neither is passed, this shows dependencies of all these types.</p>
<p>
Added in version 198.</p>
</blockquote>
<p>
<strong>–from-pattern=</strong>, <strong>–to-pattern=</strong></p>
<blockquote>
<p>When used in conjunction with the <strong>dot</strong> command (see above), this
selects which relationships are shown in the dependency graph. Both
options require a *glob*(7) pattern as an argument, which will be
matched against the left-hand and the right-hand, respectively, nodes of
a relationship.</p>
<p>
Each of these can be used more than once, in which case the unit name
must match one of the values. When tests for both sides of the relation
are present, a relation must pass both tests to be shown. When patterns
are also specified as positional arguments, they must match at least one
side of the relation. In other words, patterns specified with those two
options will trim the list of edges matched by the positional arguments,
if any are given, and fully determine the list of edges shown otherwise.</p>
<p>
Added in version 201.</p>
</blockquote>
<p>
*–fuzz=*/timespan/</p>
<blockquote>
<p>When used in conjunction with the <strong>critical-chain</strong> command (see above),
also show units, which finished <em>timespan</em> earlier, than the latest unit
in the same level. The unit of <em>timespan</em> is seconds unless specified
with a different unit, e.g. &#34;50ms&#34;.</p>
<p>
Added in version 203.</p>
</blockquote>
<p>
<strong>–man=no</strong></p>
<blockquote>
<p>Do not invoke *man*(1) to verify the existence of man pages listed in
<em>Documentation=</em>.</p>
<p>
Added in version 235.</p>
</blockquote>
<p>
<strong>–generators</strong></p>
<blockquote>
<p>Invoke unit generators, see *systemd.generator*(7). Some generators
require root privileges. Under a normal user, running with generators
enabled will generally result in some warnings.</p>
<p>
Added in version 235.</p>
</blockquote>
<p>
*–recursive-errors=*/MODE/</p>
<blockquote>
<p>Control verification of units and their dependencies and whether
<strong>systemd-analyze verify</strong> exits with a non-zero process exit status or
not. With <strong>yes</strong>, return a non-zero process exit status when warnings
arise during verification of either the specified unit or any of its
associated dependencies. With <strong>no</strong>, return a non-zero process exit
status when warnings arise during verification of only the specified
unit. With <strong>one</strong>, return a non-zero process exit status when warnings
arise during verification of either the specified unit or its immediate
dependencies. If this option is not specified, zero is returned as the
exit status regardless whether warnings arise during verification or
not.</p>
<p>
Added in version 250.</p>
</blockquote>
<p>
*–root=*/PATH/</p>
<blockquote>
<p>With <strong>cat-config</strong>, <strong>verify</strong>, <strong>condition</strong> and <strong>security</strong> when used with
<strong>–offline=</strong>, operate on files underneath the specified root path
<em>PATH</em>.</p>
<p>
Added in version 239.</p>
</blockquote>
<p>
*–image=*/PATH/</p>
<blockquote>
<p>With <strong>cat-config</strong>, <strong>verify</strong>, <strong>condition</strong> and <strong>security</strong> when used with
<strong>–offline=</strong>, operate on files inside the specified image path <em>PATH</em>.</p>
<p>
Added in version 250.</p>
</blockquote>
<p>
*–image-policy=*/policy/</p>
<blockquote>
<p>Takes an image policy string as argument, as per
<strong>systemd.image-policy*(7). The policy is enforced when operating on the
disk image specified via *–image=</strong>, see above. If not specified
defaults to the &#34;*&#34; policy, i.e. all recognized file systems in the
image are used.</p>
</blockquote>
<p>
*–offline=*/BOOL/</p>
<blockquote>
<p>With <strong>security</strong>, perform an offline security review of the specified
unit files, i.e. does not have to rely on PID 1 to acquire security
information for the files like the <strong>security</strong> verb when used by itself
does. This means that <strong>–offline=</strong> can be used with <strong>–root=</strong> and
<strong>–image=</strong> as well. If a units overall exposure level is above that set
by <strong>–threshold=</strong> (default value is 100), <strong>–offline=</strong> will return an
error.</p>
<p>
Added in version 250.</p>
</blockquote>
<p>
*–profile=*/PATH/</p>
<blockquote>
<p>With <strong>security</strong> <strong>–offline=</strong>, takes into consideration the specified
portable profile when assessing unit settings. The profile can be passed
by name, in which case the well-known system locations will be searched,
or it can be the full path to a specific drop-in file.</p>
<p>
Added in version 250.</p>
</blockquote>
<p>
*–threshold=*/NUMBER/</p>
<blockquote>
<p>With <strong>security</strong>, allow the user to set a custom value to compare the
overall exposure level with, for the specified unit files. If a units
overall exposure level, is greater than that set by the user, <strong>security</strong>
will return an error. <strong>–threshold=</strong> can be used with <strong>–offline=</strong> as
well and its default value is 100.</p>
<p>
Added in version 250.</p>
</blockquote>
<p>
*–security-policy=*/PATH/</p>
<blockquote>
<p>With <strong>security</strong>, allow the user to define a custom set of requirements
formatted as a JSON file against which to compare the specified unit
file(s) and determine their overall exposure level to security threats.</p>
<p>
\\
<strong>Table 1. Accepted Assessment Test Identifiers</strong></p>
<table>
<tbody>
<tr>
<td>Assessment Test Identifier</td>
</tr>
<tr>
<td>UserOrDynamicUser</td>
</tr>
<tr>
<td>SupplementaryGroups</td>
</tr>
<tr>
<td>PrivateMounts</td>
</tr>
<tr>
<td>PrivateDevices</td>
</tr>
<tr>
<td>PrivateTmp</td>
</tr>
<tr>
<td>PrivateNetwork</td>
</tr>
<tr>
<td>PrivateUsers</td>
</tr>
<tr>
<td>ProtectControlGroups</td>
</tr>
<tr>
<td>ProtectKernelModules</td>
</tr>
<tr>
<td>ProtectKernelTunables</td>
</tr>
<tr>
<td>ProtectKernelLogs</td>
</tr>
<tr>
<td>ProtectClock</td>
</tr>
<tr>
<td>ProtectHome</td>
</tr>
<tr>
<td>ProtectHostname</td>
</tr>
<tr>
<td>ProtectSystem</td>
</tr>
<tr>
<td>RootDirectoryOrRootImage</td>
</tr>
<tr>
<td>LockPersonality</td>
</tr>
<tr>
<td>MemoryDenyWriteExecute</td>
</tr>
<tr>
<td>NoNewPrivileges</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_SYS_ADMIN</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_SET_UID_GID_PCAP</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_SYS_PTRACE</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_SYS_TIME</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_NET_ADMIN</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_SYS_RAWIO</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_SYS_MODULE</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_AUDIT</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_SYSLOG</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_SYS_NICE_RESOURCE</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_MKNOD</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_CHOWN_FSETID_SETFCAP</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_DAC_FOWNER_IPC_OWNER</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_KILL</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_NET_BIND_SERVICE_BROADCAST_RAW</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_SYS_BOOT</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_MAC</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_LINUX_IMMUTABLE</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_IPC_LOCK</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_SYS_CHROOT</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_BLOCK_SUSPEND</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_WAKE_ALARM</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_LEASE</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_SYS_TTY_CONFIG</td>
</tr>
<tr>
<td>CapabilityBoundingSet_CAP_BPF</td>
</tr>
<tr>
<td>UMask</td>
</tr>
<tr>
<td>KeyringMode</td>
</tr>
<tr>
<td>ProtectProc</td>
</tr>
<tr>
<td>ProcSubset</td>
</tr>
<tr>
<td>NotifyAccess</td>
</tr>
<tr>
<td>RemoveIPC</td>
</tr>
<tr>
<td>Delegate</td>
</tr>
<tr>
<td>RestrictRealtime</td>
</tr>
<tr>
<td>RestrictSUIDSGID</td>
</tr>
<tr>
<td>RestrictNamespaces_user</td>
</tr>
<tr>
<td>RestrictNamespaces_mnt</td>
</tr>
<tr>
<td>RestrictNamespaces_ipc</td>
</tr>
<tr>
<td>RestrictNamespaces_pid</td>
</tr>
<tr>
<td>RestrictNamespaces_cgroup</td>
</tr>
<tr>
<td>RestrictNamespaces_uts</td>
</tr>
<tr>
<td>RestrictNamespaces_net</td>
</tr>
<tr>
<td>RestrictAddressFamilies_AF_INET_INET6</td>
</tr>
<tr>
<td>RestrictAddressFamilies_AF_UNIX</td>
</tr>
<tr>
<td>RestrictAddressFamilies_AF_NETLINK</td>
</tr>
<tr>
<td>RestrictAddressFamilies_AF_PACKET</td>
</tr>
<tr>
<td>RestrictAddressFamilies_OTHER</td>
</tr>
<tr>
<td>SystemCallArchitectures</td>
</tr>
<tr>
<td>SystemCallFilter_swap</td>
</tr>
<tr>
<td>SystemCallFilter_obsolete</td>
</tr>
<tr>
<td>SystemCallFilter_clock</td>
</tr>
<tr>
<td>SystemCallFilter_cpu_emulation</td>
</tr>
<tr>
<td>SystemCallFilter_debug</td>
</tr>
<tr>
<td>SystemCallFilter_mount</td>
</tr>
<tr>
<td>SystemCallFilter_module</td>
</tr>
<tr>
<td>SystemCallFilter_raw_io</td>
</tr>
<tr>
<td>SystemCallFilter_reboot</td>
</tr>
<tr>
<td>SystemCallFilter_privileged</td>
</tr>
<tr>
<td>SystemCallFilter_resources</td>
</tr>
<tr>
<td>IPAddressDeny</td>
</tr>
<tr>
<td>DeviceAllow</td>
</tr>
<tr>
<td>AmbientCapabilities</td>
</tr>
</tbody>
</table>
<p>
See example &#34;JSON Policy&#34; below.</p>
<p>
Added in version 250.</p>
</blockquote>
<p>
*–json=*/MODE/</p>
<blockquote>
<p>With the <strong>security</strong> command, generate a JSON formatted output of the
security analysis table. The format is a JSON array with objects
containing the following fields: <em>set</em> which indicates if the setting
has been enabled or not, <em>name</em> which is what is used to refer to the
setting, <em>json_field</em> which is the JSON compatible identifier of the
setting, <em>description</em> which is an outline of the setting state, and
<em>exposure</em> which is a number in the range 0.0…10.0, where a higher
value corresponds to a higher security threat. The JSON version of the
table is printed to standard output. The <em>MODE</em> passed to the option can
be one of three: <strong>off</strong> which is the default, <strong>pretty</strong> and <strong>short</strong> which
respectively output a prettified or shorted JSON version of the security
table. With the <strong>plot</strong> command, generate a JSON formatted output of the
raw time data. The format is a JSON array with objects containing the
following fields: <em>name</em> which is the unit name, <em>activated</em> which is
the time after startup the service was activated, <em>activating</em> which is
how long after startup the service was initially started, <em>time</em> which
is how long the service took to activate from when it was initially
started, <em>deactivated</em> which is the time after startup that the service
was deactivated, <em>deactivating</em> which is the time after startup that the
service was initially told to deactivate.</p>
<p>
Added in version 250.</p>
</blockquote>
<p>
*–iterations=*/NUMBER/</p>
<blockquote>
<p>When used with the <strong>calendar</strong> command, show the specified number of
iterations the specified calendar expression will elapse next. Defaults
to 1.</p>
<p>
Added in version 242.</p>
</blockquote>
<p>
*–base-time=*/TIMESTAMP/</p>
<blockquote>
<p>When used with the <strong>calendar</strong> command, show next iterations relative to
the specified point in time. If not specified defaults to the current
time.</p>
<p>
Added in version 244.</p>
</blockquote>
<p>
*–unit=*/UNIT/</p>
<blockquote>
<p>When used with the <strong>condition</strong> command, evaluate all the
<em>Condition*=…</em> and <em>Assert*=…</em> assignments in the specified unit
file. The full unit search path is formed by combining the directories
for the specified unit with the usual unit load paths. The variable
<em>$SYSTEMD_UNIT_PATH</em> is supported, and may be used to replace or augment
the compiled in set of unit load paths; see *systemd.unit*(5). All units
files present in the directory containing the specified unit will be
used in preference to the other paths.</p>
<p>
Added in version 250.</p>
</blockquote>
<p>
<strong>–table</strong></p>
<blockquote>
<p>When used with the <strong>plot</strong> command, the raw time data is output in a
table.</p>
<p>
Added in version 253.</p>
</blockquote>
<p>
<strong>–no-legend</strong></p>
<blockquote>
<p>When used with the <strong>plot</strong> command in combination with either <strong>–table</strong>
or <strong>–json=</strong>, no legends or hints are included in the output.</p>
<p>
Added in version 253.</p>
</blockquote>
<p>
<strong>-H</strong>, <strong>–host=</strong></p>
<blockquote>
<p>Execute the operation remotely. Specify a hostname, or a username and
hostname separated by &#34;@&#34;, to connect to. The hostname may optionally be
suffixed by a port ssh is listening on, separated by &#34;:&#34;, and then a
container name, separated by &#34;/&#34;, which connects directly to a specific
container on the specified host. This will use SSH to talk to the remote
machine manager instance. Container names may be enumerated with
*machinectl -H */HOST/. Put IPv6 addresses in brackets.</p>
</blockquote>
<p>
<strong>-M</strong>, <strong>–machine=</strong></p>
<blockquote>
<p>Execute operation on a local container. Specify a container name to
connect to, optionally prefixed by a user name to connect as and a
separating &#34;@&#34; character. If the special string &#34;.host&#34; is used in place
of the container name, a connection to the local system is made (which
is useful to connect to a specific users user bus: &#34;–user
–machine=lennart@.host&#34;). If the &#34;@&#34; syntax is not used, the connection
is made as root user. If the &#34;@&#34; syntax is used either the left hand
side or the right hand side may be omitted (but not both) in which case
the local user name and &#34;.host&#34; are implied.</p>
</blockquote>
<p>
<strong>-q</strong>, <strong>–quiet</strong></p>
<blockquote>
<p>Suppress hints and other non-essential output.</p>
<p>
Added in version 250.</p>
</blockquote>
<p>
<strong>–tldr</strong></p>
<blockquote>
<p>With <strong>cat-config</strong>, only print the &#34;interesting&#34; parts of the
configuration files, skipping comments and empty lines and section
headers followed only by comments and empty lines.</p>
<p>
Added in version 255.</p>
</blockquote>
<p>
<strong>-h</strong>, <strong>–help</strong></p>
<blockquote>
<p>Print a short help text and exit.</p>
</blockquote>
<p>
<strong>–version</strong></p>
<blockquote>
<p>Print a short version string and exit.</p>
</blockquote>
<p>
<strong>–no-pager</strong></p>
<blockquote>
<p>Do not pipe output into a pager.</p>
</blockquote>
</div>
</div>
<div id="outline-container-headline-31" class="outline-2">
<h2 id="headline-31">
EXIT STATUS
</h2>
<div id="outline-text-headline-31" class="outline-text-2">
<p>For most commands, 0 is returned on success, and a non-zero failure code
otherwise.</p>
<p>
With the verb <strong>compare-versions</strong>, in the two-argument form, <strong>12</strong>, <strong>0</strong>,
<strong>11</strong> is returned if the second version string is respectively larger,
equal, or smaller to the first. In the three-argument form, <strong>0</strong> or <strong>1</strong>
if the condition is respectively true or false.</p>
</div>
</div>
<div id="outline-container-headline-32" class="outline-2">
<h2 id="headline-32">
ENVIRONMENT
</h2>
<div id="outline-text-headline-32" class="outline-text-2">
<p><em>$SYSTEMD_LOG_LEVEL</em></p>
<blockquote>
<p>The maximum log level of emitted messages (messages with a higher log
level, i.e. less important ones, will be suppressed). Takes a
comma-separated list of values. A value may be either one of (in order
of decreasing importance) <strong>emerg</strong>, <strong>alert</strong>, <strong>crit</strong>, <strong>err</strong>, <strong>warning</strong>,
<strong>notice</strong>, <strong>info</strong>, <strong>debug</strong>, or an integer in the range 0…7. See
<strong>syslog*(3) for more information. Each value may optionally be prefixed
with one of *console</strong>, <strong>syslog</strong>, <strong>kmsg</strong> or <strong>journal</strong> followed by a colon
to set the maximum log level for that specific log target (e.g.
<strong>SYSTEMD_LOG_LEVEL=debug,console:info</strong> specifies to log at debug level
except when logging to the console which should be at info level). Note
that the global maximum log level takes priority over any per target
maximum log levels.</p>
</blockquote>
<p>
<em>$SYSTEMD_LOG_COLOR</em></p>
<blockquote>
<p>A boolean. If true, messages written to the tty will be colored
according to priority.</p>
<p>
This setting is only useful when messages are written directly to the
terminal, because *journalctl*(1) and other tools that display logs will
color messages based on the log level on their own.</p>
</blockquote>
<p>
<em>$SYSTEMD_LOG_TIME</em></p>
<blockquote>
<p>A boolean. If true, console log messages will be prefixed with a
timestamp.</p>
<p>
This setting is only useful when messages are written directly to the
terminal or a file, because *journalctl*(1) and other tools that display
logs will attach timestamps based on the entry metadata on their own.</p>
</blockquote>
<p>
<em>$SYSTEMD_LOG_LOCATION</em></p>
<blockquote>
<p>A boolean. If true, messages will be prefixed with a filename and line
number in the source code where the message originates.</p>
<p>
Note that the log location is often attached as metadata to journal
entries anyway. Including it directly in the message text can
nevertheless be convenient when debugging programs.</p>
</blockquote>
<p>
<em>$SYSTEMD_LOG_TID</em></p>
<blockquote>
<p>A boolean. If true, messages will be prefixed with the current numerical
thread ID (TID).</p>
<p>
Note that the this information is attached as metadata to journal
entries anyway. Including it directly in the message text can
nevertheless be convenient when debugging programs.</p>
</blockquote>
<p>
<em>$SYSTEMD_LOG_TARGET</em></p>
<blockquote>
<p>The destination for log messages. One of <strong>console</strong> (log to the attached
tty), <strong>console-prefixed</strong> (log to the attached tty but with prefixes
encoding the log level and &#34;facility&#34;, see <strong>syslog*(3), *kmsg</strong> (log to
the kernel circular log buffer), <strong>journal</strong> (log to the journal),
<strong>journal-or-kmsg</strong> (log to the journal if available, and to kmsg
otherwise), <strong>auto</strong> (determine the appropriate log target automatically,
the default), <strong>null</strong> (disable log output).</p>
</blockquote>
<p>
<em>$SYSTEMD_LOG_RATELIMIT_KMSG</em></p>
<blockquote>
<p>Whether to ratelimit kmsg or not. Takes a boolean. Defaults to &#34;true&#34;.
If disabled, systemd will not ratelimit messages written to kmsg.</p>
</blockquote>
<p>
<em>$SYSTEMD_PAGER</em></p>
<blockquote>
<p>Pager to use when <strong>–no-pager</strong> is not given; overrides <em>$PAGER</em>. If
neither <em>$SYSTEMD_PAGER</em> nor <em>$PAGER</em> are set, a set of well-known pager
implementations are tried in turn, including *less*(1) and *more*(1),
until one is found. If no pager implementation is discovered no pager is
invoked. Setting this environment variable to an empty string or the
value &#34;cat&#34; is equivalent to passing <strong>–no-pager</strong>.</p>
<p>
Note: if <em>$SYSTEMD_PAGERSECURE</em> is not set, <em>$SYSTEMD_PAGER</em> (as well as
<em>$PAGER</em>) will be silently ignored.</p>
</blockquote>
<p>
<em>$SYSTEMD_LESS</em></p>
<blockquote>
<p>Override the options passed to <strong>less</strong> (by default &#34;FRSXMK&#34;).</p>
<p>
Users might want to change two options in particular:</p>
<p>
<strong>K</strong></p>
<blockquote>
<p>This option instructs the pager to exit immediately when Ctrl+C is
pressed. To allow <strong>less</strong> to handle Ctrl+C itself to switch back to the
pager command prompt, unset this option.</p>
<p>
If the value of <em>$SYSTEMD_LESS</em> does not include &#34;K&#34;, and the pager that
is invoked is <strong>less</strong>, Ctrl+C will be ignored by the executable, and
needs to be handled by the pager.</p>
</blockquote>
<p>
<strong>X</strong></p>
<blockquote>
<p>This option instructs the pager to not send termcap initialization and
deinitialization strings to the terminal. It is set by default to allow
command output to remain visible in the terminal even after the pager
exits. Nevertheless, this prevents some pager functionality from
working, in particular paged output cannot be scrolled with the mouse.</p>
</blockquote>
<p>
Note that setting the regular <em>$LESS</em> environment variable has no effect
for <strong>less</strong> invocations by systemd tools.</p>
<p>
See *less*(1) for more discussion.</p>
</blockquote>
<p>
<em>$SYSTEMD_LESSCHARSET</em></p>
<blockquote>
<p>Override the charset passed to <strong>less</strong> (by default &#34;utf-8&#34;, if the
invoking terminal is determined to be UTF-8 compatible).</p>
<p>
Note that setting the regular <em>$LESSCHARSET</em> environment variable has no
effect for <strong>less</strong> invocations by systemd tools.</p>
</blockquote>
<p>
<em>$SYSTEMD_PAGERSECURE</em></p>
<blockquote>
<p>Takes a boolean argument. When true, the &#34;secure&#34; mode of the pager is
enabled; if false, disabled. If <em>$SYSTEMD_PAGERSECURE</em> is not set at
all, secure mode is enabled if the effective UID is not the same as the
owner of the login session, see <strong>geteuid*(2) and
*sd_pid_get_owner_uid*(3). In secure mode, *LESSSECURE=1</strong> will be set
when invoking the pager, and the pager shall disable commands that open
or create new files or start new subprocesses. When
<em>$SYSTEMD_PAGERSECURE</em> is not set at all, pagers which are not known to
implement secure mode will not be used. (Currently only *less*(1)
implements secure mode.)</p>
<p>
Note: when commands are invoked with elevated privileges, for example
under *sudo*(8) or *pkexec*(1), care must be taken to ensure that
unintended interactive features are not enabled. &#34;Secure&#34; mode for the
pager may be enabled automatically as describe above. Setting
<em>SYSTEMD_PAGERSECURE=0</em> or not removing it from the inherited
environment allows the user to invoke arbitrary commands. Note that if
the <em>$SYSTEMD_PAGER</em> or <em>$PAGER</em> variables are to be honoured,
<em>$SYSTEMD_PAGERSECURE</em> must be set too. It might be reasonable to
completely disable the pager using <strong>–no-pager</strong> instead.</p>
</blockquote>
<p>
<em>$SYSTEMD_COLORS</em></p>
<blockquote>
<p>Takes a boolean argument. When true, <strong>systemd</strong> and related utilities
will use colors in their output, otherwise the output will be
monochrome. Additionally, the variable can take one of the following
special values: &#34;16&#34;, &#34;256&#34; to restrict the use of colors to the base 16
or 256 ANSI colors, respectively. This can be specified to override the
automatic decision based on <em>$TERM</em> and what the console is connected
to.</p>
</blockquote>
<p>
<em>$SYSTEMD_URLIFY</em></p>
<blockquote>
<p>The value must be a boolean. Controls whether clickable links should be
generated in the output for terminal emulators supporting this. This can
be specified to override the decision that <strong>systemd</strong> makes based on
<em>$TERM</em> and other conditions.</p>
</blockquote>
</div>
</div>
<div id="outline-container-headline-33" class="outline-2">
<h2 id="headline-33">
EXAMPLES
</h2>
<div id="outline-text-headline-33" class="outline-text-2">
<p><strong>Example 27. JSON Policy</strong></p>
<p>
The JSON file passed as a path parameter to <strong>–security-policy=</strong> has a
top-level JSON object, with keys being the assessment test identifiers
mentioned above. The values in the file should be JSON objects with one
or more of the following fields: <strong>description_na</strong> (string),
<strong>description_good</strong> (string), <strong>description_bad</strong> (string), <strong>weight</strong>
(unsigned integer), and <strong>range</strong> (unsigned integer). If any of these
fields corresponding to a specific id of the unit file is missing from
the JSON object, the default built-in field value corresponding to that
same id is used for security analysis as default. The weight and range
fields are used in determining the overall exposure level of the unit
files: the value of each setting is assigned a badness score, which is
multiplied by the policy weight and divided by the policy range to
determine the overall exposure that the setting implies. The computed
badness is summed across all settings in the unit file, normalized to
the 1…100 range, and used to determine the overall exposure level of
the unit. By allowing users to manipulate these fields, the security
verb gives them the option to decide for themself which ids are more
important and hence should have a greater effect on the exposure level.
A weight of &#34;0&#34; means the setting will not be checked.</p>
<blockquote>
<pre class="example">
{
  &#34;PrivateDevices&#34;:
    {
    &#34;description_good&#34;: &#34;Service has no access to hardware devices&#34;,
    &#34;description_bad&#34;: &#34;Service potentially has access to hardware devices&#34;,
    &#34;weight&#34;: 1000,
    &#34;range&#34;: 1
    },
  &#34;PrivateMounts&#34;:
    {
    &#34;description_good&#34;: &#34;Service cannot install system mounts&#34;,
    &#34;description_bad&#34;: &#34;Service may install system mounts&#34;,
    &#34;weight&#34;: 1000,
    &#34;range&#34;: 1
    },
  &#34;PrivateNetwork&#34;:
    {
    &#34;description_good&#34;: &#34;Service has no access to the hosts network&#34;,
    &#34;description_bad&#34;: &#34;Service has access to the hosts network&#34;,
    &#34;weight&#34;: 2500,
    &#34;range&#34;: 1
    },
  &#34;PrivateTmp&#34;:
    {
    &#34;description_good&#34;: &#34;Service has no access to other softwares temporary files&#34;,
    &#34;description_bad&#34;: &#34;Service has access to other softwares temporary files&#34;,
    &#34;weight&#34;: 1000,
    &#34;range&#34;: 1
    },
  &#34;PrivateUsers&#34;:
    {
    &#34;description_good&#34;: &#34;Service does not have access to other users&#34;,
    &#34;description_bad&#34;: &#34;Service has access to other users&#34;,
    &#34;weight&#34;: 1000,
    &#34;range&#34;: 1
    }
}
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-34" class="outline-2">
<h2 id="headline-34">
SEE ALSO
</h2>
<div id="outline-text-headline-34" class="outline-text-2">
<p>*systemd*(1), *systemctl*(1)</p>
</div>
</div>
<div id="outline-container-headline-35" class="outline-2">
<h2 id="headline-35">
NOTES
</h2>
<div id="outline-text-headline-35" class="outline-text-2">
<dl>
<dt>
1.
</dt>
<dd>Packaging Metadata

https://systemd.io/COREDUMP_PACKAGE_METADATA/</dd>
<dt>
2.
</dt>
<dd>Discoverable Partitions Specification

https://uapi-group.org/specifications/specs/discoverable_partitions_specification</dd>
</dl>
</div>
</div>


        </main>
        <footer class="container footer">
            <p>Copyright 2024. All rights reserved.</p>

        </footer>

        
        

        
            <script src="/js/main.js"></script>
    </body>
</html>
