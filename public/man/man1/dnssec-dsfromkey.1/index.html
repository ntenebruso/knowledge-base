<!DOCTYPE html>
<html
    lang="en-us"
    dir="ltr"
>
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Manpages - dnssec-dsfromkey.1 | Technical Notes</title>

    <link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/css/syntax.css">
        
        
    </head>
    <body>
        <header class="container header">
            <span class="header__title">Technical Notes</span>
<button id="menuOpenBtn" class="header__menu-open-btn"><i data-lucide="menu"></i></button>

  <nav id="siteNav">
    <ul>
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a href="/notes/">Notes</a>
    </li>
    <li>
      <a aria-current="true" class="ancestor" href="/man/">Manpages</a>
    </li>
    <li>
      <a href="/search/">Search</a>
    </li>
    </ul>
    <button id="menuCloseBtn" class="header__menu-close-btn"><i data-lucide="x"></i></button>
  </nav>


        </header>
        <main class="container">
            
    <h1>Manpages - dnssec-dsfromkey.1</h1>
    
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
NAME
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>dnssec-dsfromkey - DNSSEC DS RR generation tool</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
SYNOPSIS
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p><strong>dnssec-dsfromkey</strong> [ <strong>-1</strong> | <strong>-2</strong> | <strong>-a</strong> alg ] [ <strong>-C</strong> ] [*-T* TTL] [*-v*
level] [*-K* directory] {keyfile}</p>
<p>
<strong>dnssec-dsfromkey</strong> [ <strong>-1</strong> | <strong>-2</strong> | <strong>-a</strong> alg ] [ <strong>-C</strong> ] [*-T* TTL] [*-v*
level] [*-c* class] [*-A*] {<strong>-f</strong> file} [dnsname]</p>
<p>
<strong>dnssec-dsfromkey</strong> [ <strong>-1</strong> | <strong>-2</strong> | <strong>-a</strong> alg ] [ <strong>-C</strong> ] [*-T* TTL] [*-v*
level] [*-c* class] [*-K* directory] {<strong>-s</strong>} {dnsname}</p>
<p>
<strong>dnssec-dsfromkey</strong> [ <strong>-h</strong> | <strong>-V</strong> ]</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
DESCRIPTION
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p>The <strong>dnssec-dsfromkey</strong> command outputs DS (Delegation Signer) resource
records (RRs), or CDS (Child DS) RRs with the <em>-C</em> option.</p>
<p>
By default, only KSKs are converted (keys with flags = 257). The <em>-A</em>
option includes ZSKs (flags = 256). Revoked keys are never included.</p>
<p>
The input keys can be specified in a number of ways:</p>
<p>
By default, <strong>dnssec-dsfromkey</strong> reads a key file named in the format
<strong>Knnnn.+aaa+iiiii.key</strong>, as generated by <em>dnssec-keygen</em>.</p>
<p>
With the <em>-f file</em> option, <strong>dnssec-dsfromkey</strong> reads keys from a zone
file or partial zone file (which can contain just the DNSKEY records).</p>
<p>
With the <em>-s</em> option, <strong>dnssec-dsfromkey</strong> reads a <strong>keyset-</strong> file, as
generated by <em>dnssec-keygen</em> <em>-C</em>.</p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-2">
<h2 id="headline-4">
OPTIONS
</h2>
<div id="outline-text-headline-4" class="outline-text-2">
<blockquote>
<dl>
<dt>
<strong>-1</strong>
</dt>
<dd>This option is an abbreviation for <em>-a SHA1</em>.</dd>
</dl>
</blockquote>
<blockquote>
<dl>
<dt>
<strong>-2</strong>
</dt>
<dd>This option is an abbreviation for <em>-a SHA-256</em>.</dd>
</dl>
</blockquote>
<blockquote>
<dl>
<dt>
<strong>-a algorithm</strong>
</dt>
<dd>This option specifies a digest algorithm to use when
converting DNSKEY records to DS records. This option can be repeated,
so that multiple DS records are created for each DNSKEY record.

The algorithm must be one of SHA-1, SHA-256, or SHA-384. These values
are case-insensitive, and the hyphen may be omitted. If no algorithm
is specified, the default is SHA-256.</dd>
</dl>
</blockquote>
<blockquote>
<dl>
<dt>
<strong>-A</strong>
</dt>
<dd>This option indicates that ZSKs are to be included when
generating DS records. Without this option, only keys which have the
KSK flag set are converted to DS records and printed. This option is
only useful in <em>-f</em> zone file mode.</dd>
</dl>
</blockquote>
<blockquote>
<dl>
<dt>
<strong>-c class</strong>
</dt>
<dd>This option specifies the DNS class; the default is IN.
This option is only useful in <em>-s</em> keyset or <em>-f</em> zone file mode.</dd>
</dl>
</blockquote>
<blockquote>
<dl>
<dt>
<strong>-C</strong>
</dt>
<dd>This option generates CDS records rather than DS records.</dd>
</dl>
</blockquote>
<blockquote>
<dl>
<dt>
<strong>-f file</strong>
</dt>
<dd>This option sets zone file mode, in which the final
dnsname argument of <strong>dnssec-dsfromkey</strong> is the DNS domain name of a
zone whose master file can be read from <strong>file</strong>. If the zone name is
the same as <strong>file</strong>, then it may be omitted.

If <strong>file</strong> is <strong>-</strong>, then the zone data is read from the standard input.
This makes it possible to use the output of the <em>dig</em> command as
input, as in:

<strong>dig dnskey example.com | dnssec-dsfromkey -f - example.com</strong></dd>
</dl>
</blockquote>
<blockquote>
<dl>
<dt>
<strong>-h</strong>
</dt>
<dd>This option prints usage information.</dd>
</dl>
</blockquote>
<blockquote>
<dl>
<dt>
<strong>-K directory</strong>
</dt>
<dd>This option tells BIND 9 to look for key files or
<strong>keyset-</strong> files in <strong>directory</strong>.</dd>
</dl>
</blockquote>
<blockquote>
<dl>
<dt>
<strong>-s</strong>
</dt>
<dd>This option enables keyset mode, in which the final dnsname
argument from <strong>dnssec-dsfromkey</strong> is the DNS domain name used to locate
a <strong>keyset-</strong> file.</dd>
</dl>
</blockquote>
<blockquote>
<dl>
<dt>
<strong>-T TTL</strong>
</dt>
<dd>This option specifies the TTL of the DS records. By
default the TTL is omitted.</dd>
</dl>
</blockquote>
<blockquote>
<dl>
<dt>
<strong>-v level</strong>
</dt>
<dd>This option sets the debugging level.</dd>
</dl>
</blockquote>
<blockquote>
<dl>
<dt>
<strong>-V</strong>
</dt>
<dd>This option prints version information.</dd>
</dl>
</blockquote>
</div>
</div>
<div id="outline-container-headline-5" class="outline-2">
<h2 id="headline-5">
EXAMPLE
</h2>
<div id="outline-text-headline-5" class="outline-text-2">
<p>To build the SHA-256 DS RR from the <strong>Kexample.com.+003+26160</strong> keyfile,
issue the following command:</p>
<p>
<strong>dnssec-dsfromkey -2 Kexample.com.+003+26160</strong></p>
<p>
The command returns something similar to:</p>
<p>
<strong>example.com. IN DS 26160 5 2
3A1EADA7A74B8D0BA86726B0C227AA85AB8BBD2B2004F41A868A54F0C5EA0B94</strong></p>
</div>
</div>
<div id="outline-container-headline-6" class="outline-2">
<h2 id="headline-6">
FILES
</h2>
<div id="outline-text-headline-6" class="outline-text-2">
<p>The keyfile can be designated by the key identification
<strong>Knnnn.+aaa+iiiii</strong> or the full file name <strong>Knnnn.+aaa+iiiii.key</strong>, as
generated by <em>dnssec-keygen</em>.</p>
<p>
The keyset file name is built from the <strong>directory</strong>, the string
<strong>keyset-</strong>, and the <strong>dnsname</strong>.</p>
</div>
</div>
<div id="outline-container-headline-7" class="outline-2">
<h2 id="headline-7">
CAVEAT
</h2>
<div id="outline-text-headline-7" class="outline-text-2">
<p>A keyfile error may return &#34;file not found,&#34; even if the file exists.</p>
</div>
</div>
<div id="outline-container-headline-8" class="outline-2">
<h2 id="headline-8">
SEE ALSO
</h2>
<div id="outline-text-headline-8" class="outline-text-2">
<p><em>dnssec-keygen(8)</em>, <em>dnssec-signzone(8)</em>, BIND 9 Administrator Reference
Manual, <em>RFC 3658</em> (DS RRs), <em>RFC 4509</em> (SHA-256 for DS RRs), <em>RFC 6605</em>
(SHA-384 for DS RRs), <em>RFC 7344</em> (CDS and CDNSKEY RRs).</p>
</div>
</div>
<div id="outline-container-headline-9" class="outline-2">
<h2 id="headline-9">
AUTHOR
</h2>
<div id="outline-text-headline-9" class="outline-text-2">
<p>Internet Systems Consortium</p>
</div>
</div>
<div id="outline-container-headline-10" class="outline-2">
<h2 id="headline-10">
COPYRIGHT
</h2>
<div id="outline-text-headline-10" class="outline-text-2">
<p>2024, Internet Systems Consortium</p>
</div>
</div>


        </main>
        <footer class="container footer">
            <p>Copyright 2024. All rights reserved.</p>

        </footer>

        
        

        
            <script src="/js/main.js"></script>
    </body>
</html>
