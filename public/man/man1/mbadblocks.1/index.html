<!DOCTYPE html>
<html
    lang="en-us"
    dir="ltr"
>
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Manpages - mbadblocks.1 | Technical Notes</title>

      <link rel="stylesheet" href="/css/main.min.a9ecaac9d4f7845fc2de4738f7709cab0bd1c3d19c3466fadd637a6987603257.css" integrity="sha256-qeyqydT3hF/C3kc493CcqwvRw9GcNGb63WN6aYdgMlc=" crossorigin="anonymous">


<link rel="stylesheet" href="/css/syntax.css">
        
        
    </head>
    <body>
        <header class="container header">
            <span class="header__title">Technical Notes</span>
<button id="menuOpenBtn" class="header__menu-open-btn"><i data-lucide="menu"></i></button>

  <nav id="siteNav">
    <ul>
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a href="/notes/">Notes</a>
    </li>
    <li>
      <a aria-current="true" class="ancestor" href="/man/">Manpages</a>
    </li>
    <li>
      <a href="/search/">Search</a>
    </li>
    </ul>
    <button id="menuCloseBtn" class="header__menu-close-btn"><i data-lucide="x"></i></button>
  </nav>


        </header>
        <main class="container">
            
    <h1>Manpages - mbadblocks.1</h1>
    
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Name
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>mbadblocks - tests a floppy disk, and marks the bad blocks in the FAT</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
Note of warning
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>This manpage has been automatically generated from mtools&#39;s texinfo
documentation, and may not be entirely accurate or complete. See the end
of this man page for details.</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
Description
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p>The <code class="verbatim">mbadblocks</code> command is used to mark some clusters on an MS-DOS
filesystem bad. It has the following syntax:</p>
<p>
<code class="verbatim">mbadblocks</code> [=-s= /sectorlist/|=-c= /clusterlist/|-w] /drive/=:=</p>
<p>
If no command line flags are supplied, <code class="verbatim">Mbadblocks</code> scans an MS-DOS
filesystem for bad blocks by simply trying to read them and flag them if
read fails. All blocks that are unused are scanned, and if detected bad
are marked as such in the FAT.</p>
<p>
This command is intended to be used right after <code class="verbatim">mformat</code>. It is not
intended to salvage data from bad disks.</p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-2">
<h2 id="headline-4">
Command line options
</h2>
<div id="outline-text-headline-4" class="outline-text-2">
<dl>
<dt>
=c =/file/ 
</dt>
<dd>Use a list of bad clusters, rather than scanning for
bad clusters itself.</dd>
<dt>
=s =/file/ 
</dt>
<dd>Use a list of bad sectors (counted from beginning of
filesystem), rather than trying for bad clusters itself.</dd>
<dt>
<code class="verbatim">w</code> 
</dt>
<dd>Write a random pattern to each cluster, then read it back and
flag cluster as bad if mismatch. Only free clusters are tested in such
a way, so any file data is preserved.</dd>
</dl>
</div>
</div>
<div id="outline-container-headline-5" class="outline-2">
<h2 id="headline-5">
Bugs
</h2>
<div id="outline-text-headline-5" class="outline-text-2">
<p><code class="verbatim">Mbadblocks</code> should (but doesn&#39;t yet :-( ) also try to salvage bad
blocks which are in use by reading them repeatedly, and then mark them
bad.</p>
</div>
</div>
<div id="outline-container-headline-6" class="outline-2">
<h2 id="headline-6">
See Also
</h2>
<div id="outline-text-headline-6" class="outline-text-2">
<p>Mtools&#39; texinfo doc</p>
</div>
</div>
<div id="outline-container-headline-7" class="outline-2">
<h2 id="headline-7">
Viewing the texi doc
</h2>
<div id="outline-text-headline-7" class="outline-text-2">
<p>This manpage has been automatically generated from mtools&#39;s texinfo
documentation. However, this process is only approximative, and some
items, such as crossreferences, footnotes and indices are lost in this
translation process. Indeed, these items have no appropriate
representation in the manpage format. Moreover, not all information has
been translated into the manpage version. Thus I strongly advise you to
use the original texinfo doc. See the end of this manpage for
instructions how to view the texinfo doc.</p>
<dl>
<dt>
* 
</dt>
<dd>To generate a printable copy from the texinfo doc, run the
following commands:</dd>
</dl>
<pre class="example">
    ./configure; make dvi; dvips mtools.dvi
</pre>
<dl>
<dt>
* 
</dt>
<dd>To generate a html copy, run:</dd>
</dl>
<pre class="example">
    ./configure; make html
</pre>
<p>
A premade html can be found at
<code class="verbatim">∞http://www.gnu.org/software/mtools/manual/mtools.html∫</code></p>
<dl>
<dt>
* 
</dt>
<dd>To generate an info copy (browsable using emacs&#39; info mode),
run:</dd>
</dl>
<pre class="example">
    ./configure; make info
</pre>
<p>
The texinfo doc looks most pretty when printed or as html. Indeed, in
the info version certain examples are difficult to read due to the
quoting conventions used in info.</p>
</div>
</div>


        </main>
        <footer class="container footer">
            <p>Copyright 2024. All rights reserved.</p>

        </footer>

        
        

        
            <script src="/js/main.95916b5b8c09add4922ea47e674b5da7fc4b6347a3e8c4e25e98b4b7d236080b.js" integrity="sha256-lZFrW4wJrdSSLqR&#43;Z0tdp/xLY0ej6MTiXpi0t9I2CAs=" crossorigin="anonymous"></script>
    </body>
</html>
