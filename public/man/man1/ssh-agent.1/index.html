<!DOCTYPE html>
<html
    lang="en-us"
    dir="ltr"
>
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Manpages - ssh-agent.1 | Technical Notes</title>

      <link rel="stylesheet" href="/css/main.min.a9ecaac9d4f7845fc2de4738f7709cab0bd1c3d19c3466fadd637a6987603257.css" integrity="sha256-qeyqydT3hF/C3kc493CcqwvRw9GcNGb63WN6aYdgMlc=" crossorigin="anonymous">


<link rel="stylesheet" href="/css/syntax.css">
        
        
    </head>
    <body>
        <header class="container header">
            <span class="header__title">Technical Notes</span>
<button id="menuOpenBtn" class="header__menu-open-btn"><i data-lucide="menu"></i></button>

  <nav id="siteNav">
    <ul>
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a href="/notes/">Notes</a>
    </li>
    <li>
      <a aria-current="true" class="ancestor" href="/man/">Manpages</a>
    </li>
    <li>
      <a href="/search/">Search</a>
    </li>
    </ul>
    <button id="menuCloseBtn" class="header__menu-close-btn"><i data-lucide="x"></i></button>
  </nav>


        </header>
        <main class="container">
            
    <h1>Manpages - ssh-agent.1</h1>
    
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
NAME
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p><strong>ssh-agent</strong> - OpenSSH authentication agent</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
SYNOPSIS
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>\\
<strong>ssh-agent</strong> [*-c* | s] [*-Dd*] [*-a* /bind_address/] [*-E*
/fingerprint_hash/] [*-O* /option/] [*-P* /allowed_providers/] [*-t*
/life/]<br>
<strong>ssh-agent</strong> [*-a* <em>bind_address/] [*-E* /fingerprint_hash/] [*-O*
/option/] [*-P* /allowed_providers/] [*-t* /life/] /command</em>
[/arg/…]<br>
<strong>ssh-agent</strong> [*-c* | s] <strong>-k</strong></p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
DESCRIPTION
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p><strong>ssh-agent</strong> is a program to hold private keys used for public key
authentication. Through use of environment variables the agent can be
located and automatically used for authentication when logging in to
other machines using *ssh*(1).</p>
<p>
The options are as follows:</p>
<dl>
<dt>
<strong>-a</strong> <em>bind_address</em>
</dt>
<dd>Bind the agent to the UNIX-domain socket
<em>bind_address</em>. The default is <em>$TMPDIR/ssh-XXXXXXXXXX/agent.ppid</em>.</dd>
<dt>
<strong>-c</strong>
</dt>
<dd>Generate C-shell commands on <strong>stdout</strong>. This is the default if
<em>SHELL</em> looks like it&#39;s a csh style of shell.</dd>
<dt>
<strong>-D</strong>
</dt>
<dd>Foreground mode. When this option is specified, <strong>ssh-agent</strong>
will not fork.</dd>
<dt>
<strong>-d</strong>
</dt>
<dd>Debug mode. When this option is specified, <strong>ssh-agent</strong> will
not fork and will write debug information to standard error.</dd>
<dt>
<strong>-E</strong> <em>fingerprint_hash</em>
</dt>
<dd>Specifies the hash algorithm used when
displaying key fingerprints. Valid options are: ``md5&#39;&#39; and
``sha256&#39;&#39;. The default is ``sha256&#39;&#39;.</dd>
<dt>
<strong>-k</strong>
</dt>
<dd>Kill the current agent (given by the <em>SSH_AGENT_PID</em>
environment variable).</dd>
<dt>
<strong>-O</strong> <em>option</em>
</dt>
<dd>Specify an option when starting <strong>.</strong> Currently two
options are supported: <strong>allow-remote-pkcs11</strong> and
<strong>no-restrict-websafe</strong>.

The <strong>allow-remote-pkcs11</strong> option allows clients of a forwarded
<strong>ssh-agent</strong> to load PKCS#11 or FIDO provider libraries. By default
only local clients may perform this operation. Note that signalling
that an <strong>ssh-agent</strong> client is remote is performed by *ssh*(1), and use
of other tools to forward access to the agent socket may circumvent
this restriction.

The <strong>no-restrict-websafe</strong> option instructs <strong>ssh-agent</strong> to permit
signatures using FIDO keys that might be web authentication requests.
By default, <strong>ssh-agent</strong> refuses signature requests for FIDO keys where
the key application string does not start with ``ssh:&#39;&#39; and when the
data to be signed does not appear to be a *ssh*(1) user authentication
request or a *ssh-keygen*(1) signature. The default behaviour prevents
forwarded access to a FIDO key from also implicitly forwarding the
ability to authenticate to websites.</dd>
<dt>
<strong>-P</strong> <em>allowed_providers</em>
</dt>
<dd>Specify a pattern-list of acceptable paths
for PKCS#11 provider and FIDO authenticator middleware shared
libraries that may be used with the <strong>-S</strong> or <strong>-s</strong> options to
*ssh-add*(1). Libraries that do not match the pattern list will be
refused. See PATTERNS in *ssh_config*(5) for a description of
pattern-list syntax. The default list is
``usr/lib*/*,/usr/local/lib*/*&#39;&#39;.</dd>
<dt>
<strong>-s</strong>
</dt>
<dd>Generate Bourne shell commands on <strong>stdout</strong>. This is the
default if <em>SHELL</em> does not look like it&#39;s a csh style of shell.</dd>
<dt>
<strong>-t</strong> <em>life</em>
</dt>
<dd>Set a default value for the maximum lifetime of
identities added to the agent. The lifetime may be specified in
seconds or in a time format specified in *sshd_config*(5). A lifetime
specified for an identity with *ssh-add*(1) overrides this value.
Without this option the default maximum lifetime is forever.</dd>
<dt>
<em>command</em> [/arg/…]
</dt>
<dd>If a command (and optional arguments) is
given, this is executed as a subprocess of the agent. The agent exits
automatically when the command given on the command line terminates.</dd>
</dl>
<p>There are two main ways to get an agent set up. The first is at the
start of an X session, where all other windows or programs are started
as children of the <strong>ssh-agent</strong> program. The agent starts a command under
which its environment variables are exported, for example <strong>ssh-agent</strong>
xterm &amp; . When the command terminates, so does the agent.</p>
<p>
The second method is used for a login session. When <strong>ssh-agent</strong> is
started, it prints the shell commands required to set its environment
variables, which in turn can be evaluated in the calling shell, for
example <strong>eval</strong> `ssh-agent -s` .</p>
<p>
In both cases, *ssh*(1) looks at these environment variables and uses
them to establish a connection to the agent.</p>
<p>
The agent initially does not have any private keys. Keys are added using
<strong>ssh-add*(1) or by *ssh*(1) when *AddKeysToAgent</strong> is set in
<strong>ssh_config*(5). Multiple identities may be stored in *ssh-agent</strong>
concurrently and <strong>ssh*(1) will automatically use them if present.
*ssh-add*(1) is also used to remove keys from *ssh-agent</strong> and to query
the keys that are held in one.</p>
<p>
Connections to <strong>ssh-agent</strong> may be forwarded from further remote hosts
using the <strong>-A</strong> option to *ssh*(1) (but see the caveats documented
therein), avoiding the need for authentication data to be stored on
other machines. Authentication passphrases and private keys never go
over the network: the connection to the agent is forwarded over SSH
remote connections and the result is returned to the requester, allowing
the user access to their identities anywhere in the network in a secure
fashion.</p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-2">
<h2 id="headline-4">
ENVIRONMENT
</h2>
<div id="outline-text-headline-4" class="outline-text-2">
<dl>
<dt>
<strong>SSH_AGENT_PID</strong>
</dt>
<dd>When <strong>ssh-agent</strong> starts, it stores the name of the
agent&#39;s process ID (PID) in this variable.</dd>
<dt>
<strong>SSH_AUTH_SOCK</strong>
</dt>
<dd>When <strong>ssh-agent</strong> starts, it creates a UNIX-domain
socket and stores its pathname in this variable. It is accessible only
to the current user, but is easily abused by root or another instance
of the same user.</dd>
</dl>
</div>
</div>
<div id="outline-container-headline-5" class="outline-2">
<h2 id="headline-5">
FILES
</h2>
<div id="outline-text-headline-5" class="outline-text-2">
<dl>
<dt>
<strong>$TMPDIR/ssh-XXXXXXXXXX/agent.&lt;ppid&gt;</strong>
</dt>
<dd>UNIX-domain sockets used to
contain the connection to the authentication agent. These sockets
should only be readable by the owner. The sockets should get
automatically removed when the agent exits.</dd>
</dl>
</div>
</div>
<div id="outline-container-headline-6" class="outline-2">
<h2 id="headline-6">
SEE ALSO
</h2>
<div id="outline-text-headline-6" class="outline-text-2">
<p>*ssh*(1), *ssh-add*(1), *ssh-keygen*(1), *ssh_config*(5), *sshd*(8)</p>
</div>
</div>
<div id="outline-container-headline-7" class="outline-2">
<h2 id="headline-7">
AUTHORS
</h2>
<div id="outline-text-headline-7" class="outline-text-2">
<p>-nosplit OpenSSH is a derivative of the original and free ssh 1.2.12
release by</p>
<p>
Tatu Ylonen .</p>
<p>
Aaron Campbell , Bob Beck , Markus Friedl , Niels Provos , Theo de Raadt
and</p>
<p>
Dug Song removed many bugs, re-added newer features and created OpenSSH.</p>
<p>
Markus Friedl contributed the support for SSH protocol versions 1.5 and
2.0.</p>
</div>
</div>


        </main>
        <footer class="container footer">
            <p>Copyright 2024. All rights reserved.</p>

        </footer>

        
        

        
            <script src="/js/main.95916b5b8c09add4922ea47e674b5da7fc4b6347a3e8c4e25e98b4b7d236080b.js" integrity="sha256-lZFrW4wJrdSSLqR&#43;Z0tdp/xLY0ej6MTiXpi0t9I2CAs=" crossorigin="anonymous"></script>
    </body>
</html>
