<!DOCTYPE html>
<html
    lang="en-us"
    dir="ltr"
>
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Manpages - varlinkctl.1 | Technical Notes</title>

    <link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/css/syntax.css">
        
        
    </head>
    <body>
        <header class="container header">
            <span class="header__title">Technical Notes</span>
<button id="menuOpenBtn" class="header__menu-open-btn"><i data-lucide="menu"></i></button>

  <nav id="siteNav">
    <ul>
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a href="/notes/">Notes</a>
    </li>
    <li>
      <a aria-current="true" class="ancestor" href="/man/">Manpages</a>
    </li>
    <li>
      <a href="/search/">Search</a>
    </li>
    </ul>
    <button id="menuCloseBtn" class="header__menu-close-btn"><i data-lucide="x"></i></button>
  </nav>


        </header>
        <main class="container">
            
    <h1>Manpages - varlinkctl.1</h1>
    
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
NAME
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>varlinkctl - Introspect with and invoke Varlink services</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
SYNOPSIS
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p><strong>varlinkctl</strong> [OPTIONS…] info <em>ADDRESS</em></p>
<p>
<strong>varlinkctl</strong> [OPTIONS…] list-interfaces <em>ADDRESS</em></p>
<p>
<strong>varlinkctl</strong> [OPTIONS…] introspect <em>ADDRESS</em> <em>INTERFACE</em></p>
<p>
<strong>varlinkctl</strong> [OPTIONS…] call <em>ADDRESS</em> <em>METHOD</em> [/ARGUMENTS/]</p>
<p>
<strong>varlinkctl</strong> [OPTIONS…] validate-idl [/FILE/]</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
DESCRIPTION
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p><strong>varlinkctl</strong> may be used to introspect and invoke <strong>Varlink</strong>[1] services.</p>
<p>
Services are referenced by one of the following:</p>
<blockquote>
<p>·</p>
<p>
A Varlink service reference starting with the &#34;unix:&#34; string, followed
by an absolute <strong>AF_UNIX</strong> socket path, or by &#34;@&#34; and an arbitrary string
(the latter for referencing sockets in the abstract namespace).</p>
</blockquote>
<blockquote>
<p>·</p>
<p>
A Varlink service reference starting with the &#34;exec:&#34; string, followed
by an absolute path of a binary to execute.</p>
</blockquote>
<blockquote>
<p>·</p>
<p>
A Varlink service reference starting with the &#34;ssh:&#34; string, followed by
an SSH host specification, followed by &#34;:&#34;, followed by an absolute
<strong>AF_UNIX</strong> socket path. (This requires OpenSSH 9.4 or newer on the server
side, abstract namespace sockets are not supported.)</p>
</blockquote>
<p>
For convenience these two simpler (redundant) service address syntaxes
are also supported:</p>
<blockquote>
<p>·</p>
<p>
A file system path to an <strong>AF_UNIX</strong> socket, either absolute (i.e. begins
with &#34;<em>&#34;) or relative (in which case it must begin with &#34;.</em>&#34;).</p>
</blockquote>
<blockquote>
<p>·</p>
<p>
A file system path to an executable, either absolute or relative (as
above, must begin with &#34;<em>&#34;, resp. &#34;.</em>&#34;).</p>
</blockquote>
</div>
</div>
<div id="outline-container-headline-4" class="outline-2">
<h2 id="headline-4">
COMMANDS
</h2>
<div id="outline-text-headline-4" class="outline-text-2">
<p>The following commands are understood:</p>
<p>
<strong>info</strong> <em>ADDRESS</em></p>
<blockquote>
<p>Show brief information about the specified service, including vendor
name and list of implemented interfaces. Expects a service address in
one of the formats described above.</p>
<p>
Added in version 255.</p>
</blockquote>
<p>
<strong>list-interfaces</strong> <em>ADDRESS</em></p>
<blockquote>
<p>Show list of interfaces implemented by the specified service. Expects a
service address in one of the formats described above.</p>
<p>
Added in version 255.</p>
</blockquote>
<p>
<strong>introspect</strong> <em>ADDRESS</em> <em>INTERFACE</em></p>
<blockquote>
<p>Show interface definition of the specified interface provided by the
specified service. Expects a service address in one of the formats
described above and a Varlink interface name.</p>
<p>
Added in version 255.</p>
</blockquote>
<p>
<strong>call</strong> <em>ADDRESS</em> <em>METHOD</em> [/ARGUMENTS/]</p>
<blockquote>
<p>Call the specified method of the specified service. Expects a service
address in the format described above, a fully qualified Varlink method
name, and a JSON arguments object. If the arguments object is not
specified, it is read from STDIN instead. To pass an empty list of
parameters, specify the empty object &#34;{}&#34;.</p>
<p>
The reply parameters are written as JSON object to STDOUT.</p>
<p>
Added in version 255.</p>
</blockquote>
<p>
<strong>validate-idl</strong> [/FILE/]</p>
<blockquote>
<p>Reads a Varlink interface definition file, parses and validates it, then
outputs it with syntax highlighting. This checks for syntax and internal
consistency of the interface. Expects a file name to read the interface
definition from. If omitted reads the interface definition from STDIN.</p>
<p>
Added in version 255.</p>
</blockquote>
<p>
<strong>help</strong></p>
<blockquote>
<p>Show command syntax help.</p>
<p>
Added in version 255.</p>
</blockquote>
</div>
</div>
<div id="outline-container-headline-5" class="outline-2">
<h2 id="headline-5">
OPTIONS
</h2>
<div id="outline-text-headline-5" class="outline-text-2">
<p>The following options are understood:</p>
<p>
<strong>–more</strong></p>
<blockquote>
<p>When used with <strong>call</strong>: expect multiple method replies. If this flag is
set the method call is sent with the <strong>more</strong> flag set, which tells the
service to generate multiple replies, if needed. The command remains
running until the service sends a reply message that indicates it is the
last in the series. This flag should be set only for method calls that
support this mechanism.</p>
<p>
If this mode is enabled output is automatically switched to JSON-SEQ
mode, so that individual reply objects can be easily discerned.</p>
<p>
Added in version 255.</p>
</blockquote>
<p>
<strong>–collect</strong></p>
<blockquote>
<p>This is similar to <strong>–more</strong> but collects all responses in a JSON array,
and prints it, rather than in JSON_SEQ mode.</p>
<p>
Added in version 256.</p>
</blockquote>
<p>
<strong>–oneway</strong></p>
<blockquote>
<p>When used with <strong>call</strong>: do not expect a method reply. If this flag is set
the method call is sent with the <strong>oneway</strong> flag set (the command exits
immediately after), which tells the service not to generate a reply.</p>
<p>
Added in version 255.</p>
</blockquote>
<p>
*–json=*/MODE/</p>
<blockquote>
<p>Selects the JSON output formatting, one of &#34;pretty&#34; (for nicely
indented, colorized output) or &#34;short&#34; (for terse output with minimal
whitespace and no newlines), defaults to &#34;short&#34;.</p>
<p>
Added in version 255.</p>
</blockquote>
<p>
<strong>-j</strong></p>
<blockquote>
<p>Equivalent to <strong>–json=pretty</strong> when invoked interactively from a
terminal. Otherwise equivalent to <strong>–json=short</strong>, in particular when the
output is piped to some other program.</p>
<p>
Added in version 255.</p>
</blockquote>
<p>
<strong>–no-pager</strong></p>
<blockquote>
<p>Do not pipe output into a pager.</p>
</blockquote>
<p>
<strong>-h</strong>, <strong>–help</strong></p>
<blockquote>
<p>Print a short help text and exit.</p>
</blockquote>
<p>
<strong>–version</strong></p>
<blockquote>
<p>Print a short version string and exit.</p>
</blockquote>
</div>
</div>
<div id="outline-container-headline-6" class="outline-2">
<h2 id="headline-6">
EXAMPLES
</h2>
<div id="outline-text-headline-6" class="outline-text-2">
<p><strong>Example 1. Investigating a Service</strong></p>
<p>
The following three commands inspect the &#34;io.systemd.Resolve&#34; service
implemented by *systemd-resolved.service*(8), listing general service
information and implemented interfaces, and then displaying the
interface definition of its primary interface:</p>
<blockquote>
<pre class="example">
$ varlinkctl info /run/systemd/resolve/io.systemd.Resolve
    Vendor: The systemd Project
   Product: systemd (systemd-resolved)
   Version: 254 (254-1522-g4790521^)
       URL: https://systemd.io/
Interfaces: io.systemd
            io.systemd.Resolve
            org.varlink.service
$ varlinkctl list-interfaces /run/systemd/resolve/io.systemd.Resolve
io.systemd
io.systemd.Resolve
org.varlink.service
$ varlinkctl introspect /run/systemd/resolve/io.systemd.Resolve io.systemd.Resolve
interface io.systemd.Resolve
type ResolvedAddress(
        ifindex: ?int,
        ...
</pre>
</blockquote>
<p>
(Interface definition has been truncated in the example above, in the
interest of brevity.)</p>
<p>
<strong>Example 2. Invoking a Method</strong></p>
<p>
The following command resolves a hostname via
<strong>systemd-resolved.service*(8)s *ResolveHostname</strong> method call.</p>
<blockquote>
<pre class="example">
$ varlinkctl call /run/systemd/resolve/io.systemd.Resolve io.systemd.Resolve.ResolveHostname {&#34;name&#34;:&#34;systemd.io&#34;,&#34;family&#34;:2} -j
{
        &#34;addresses&#34; : [
                {
                        &#34;ifindex&#34; : 2,
                        &#34;family&#34; : 2,
                        &#34;address&#34; : [
                                185,
                                199,
                                111,
                                153
                        ]
                }
        ],
        &#34;name&#34; : &#34;systemd.io&#34;,
        &#34;flags&#34; : 1048577
}
</pre>
</blockquote>
<p>
<strong>Example 3. Investigating a Service Executable</strong></p>
<p>
The following command inspects the /usr/lib/systemd/systemd-pcrextend
executable and the IPC APIs it provides. It then invokes a method on it:</p>
<blockquote>
<pre class="example">
# varlinkctl info /usr/lib/systemd/systemd-pcrextend
    Vendor: The systemd Project
   Product: systemd (systemd-pcrextend)
   Version: 254 (254-1536-g97734fb)
       URL: https://systemd.io/
Interfaces: io.systemd
            io.systemd.PCRExtend
            org.varlink.service
# varlinkctl introspect /usr/lib/systemd/systemd-pcrextend io.systemd.PCRExtend
interface io.systemd.PCRExtend

method Extend(
        pcr: int,
        text: ?string,
        data: ?string
) -&gt; ()
# varlinkctl call /usr/lib/systemd/systemd-pcrextend io.systemd.PCRExtend.Extend {&#34;pcr&#34;:15,&#34;text&#34;:&#34;foobar&#34;}
{}
</pre>
</blockquote>
</div>
</div>
<div id="outline-container-headline-7" class="outline-2">
<h2 id="headline-7">
SEE ALSO
</h2>
<div id="outline-text-headline-7" class="outline-text-2">
<p><strong>busctl*(1), *Varlink</strong>[1]</p>
</div>
</div>
<div id="outline-container-headline-8" class="outline-2">
<h2 id="headline-8">
NOTES
</h2>
<div id="outline-text-headline-8" class="outline-text-2">
<dl>
<dt>
1.
</dt>
<dd>Varlink

https://varlink.org/</dd>
</dl>
</div>
</div>


        </main>
        <footer class="container footer">
            <p>Copyright 2024. All rights reserved.</p>

        </footer>

        
        

        
            <script src="/js/main.js"></script>
    </body>
</html>
