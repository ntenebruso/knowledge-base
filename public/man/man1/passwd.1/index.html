<!DOCTYPE html>
<html
    lang="en-us"
    dir="ltr"
>
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Manpages - passwd.1 | Technical Notes</title>

      <link rel="stylesheet" href="/css/main.min.a9ecaac9d4f7845fc2de4738f7709cab0bd1c3d19c3466fadd637a6987603257.css" integrity="sha256-qeyqydT3hF/C3kc493CcqwvRw9GcNGb63WN6aYdgMlc=" crossorigin="anonymous">


<link rel="stylesheet" href="/css/syntax.css">
        
        
    </head>
    <body>
        <header class="container header">
            <span class="header__title">Technical Notes</span>
<button id="menuOpenBtn" class="header__menu-open-btn"><i data-lucide="menu"></i></button>

  <nav id="siteNav">
    <ul>
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a href="/notes/">Notes</a>
    </li>
    <li>
      <a aria-current="true" class="ancestor" href="/man/">Manpages</a>
    </li>
    <li>
      <a href="/search/">Search</a>
    </li>
    </ul>
    <button id="menuCloseBtn" class="header__menu-close-btn"><i data-lucide="x"></i></button>
  </nav>


        </header>
        <main class="container">
            
    <h1>Manpages - passwd.1</h1>
    
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
NAME
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>passwd - change user password</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
SYNOPSIS
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p><strong>passwd</strong> [/options/] [/LOGIN/]</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
DESCRIPTION
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p>The <strong>passwd</strong> command changes passwords for user accounts. A normal user
may only change the password for their own account, while the superuser
may change the password for any account. <strong>passwd</strong> also changes the
account or associated password validity period.</p>
<div id="outline-container-headline-4" class="outline-3">
<h3 id="headline-4">
Password Changes
</h3>
<div id="outline-text-headline-4" class="outline-text-3">
<p>The user is first prompted for their old password, if one is present.
This password is then encrypted and compared against the stored
password. The user has only one chance to enter the correct password.
The superuser is permitted to bypass this step so that forgotten
passwords may be changed.</p>
<p>
After the password has been entered, password aging information is
checked to see if the user is permitted to change the password at this
time. If not, <strong>passwd</strong> refuses to change the password and exits.</p>
<p>
The user is then prompted twice for a replacement password. The second
entry is compared against the first and both are required to match in
order for the password to be changed.</p>
<p>
Then, the password is tested for complexity. <strong>passwd</strong> will reject any
password which is not suitably complex. Care must be taken not to
include the system default erase or kill characters.</p>
</div>
</div>
<div id="outline-container-headline-5" class="outline-3">
<h3 id="headline-5">
Hints for user passwords
</h3>
<div id="outline-text-headline-5" class="outline-text-3">
<p>The security of a password depends upon the strength of the encryption
algorithm and the size of the key space. The legacy <em>UNIX</em> System
encryption method is based on the NBS DES algorithm. More recent methods
are now recommended (see <strong>ENCRYPT_METHOD</strong>). The size of the key space
depends upon the randomness of the password which is selected.</p>
<p>
Compromises in password security normally result from careless password
selection or handling. For this reason, you should not select a password
which appears in a dictionary or which must be written down. The
password should also not be a proper name, your license number, birth
date, or street address. Any of these may be used as guesses to violate
system security.</p>
<p>
As a general guideline, passwords should be long and random. Its fine to
use simple character sets, such as passwords consisting only of
lowercase letters, if that helps memorizing longer passwords. For a
password consisting only of lowercase English letters randomly chosen,
and a length of 32, there are 26^32 (approximately 2^150) different
possible combinations. Being an exponential equation, its apparent that
the exponent (the length) is more important than the base (the size of
the character set).</p>
<p>
You can find advice on how to choose a strong password on
<a href="http://en.wikipedia.org/wiki/Password_strength">http://en.wikipedia.org/wiki/Password_strength</a></p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-6" class="outline-2">
<h2 id="headline-6">
OPTIONS
</h2>
<div id="outline-text-headline-6" class="outline-text-2">
<p>The options which apply to the <strong>passwd</strong> command are:</p>
<p>
<strong>-a</strong>, <strong>–all</strong></p>
<blockquote>
<p>This option can be used only with <strong>-S</strong> and causes show status for all
users.</p>
</blockquote>
<p>
<strong>-d</strong>, <strong>–delete</strong></p>
<blockquote>
<p>Delete a users password (make it empty). This is a quick way to disable
a password for an account. It will set the named account passwordless.</p>
</blockquote>
<p>
<strong>-e</strong>, <strong>–expire</strong></p>
<blockquote>
<p>Immediately expire an accounts password. This in effect can force a user
to change their password at the users next login.</p>
</blockquote>
<p>
<strong>-h</strong>, <strong>–help</strong></p>
<blockquote>
<p>Display help message and exit.</p>
</blockquote>
<p>
<strong>-i</strong>, <strong>–inactive</strong> <em>INACTIVE</em></p>
<blockquote>
<p>This option is used to disable an account after the password has been
expired for a number of days. After a user account has had an expired
password for <em>INACTIVE</em> days, the user may no longer sign on to the
account.</p>
</blockquote>
<p>
<strong>-k</strong>, <strong>–keep-tokens</strong></p>
<blockquote>
<p>Indicate password change should be performed only for expired
authentication tokens (passwords). The user wishes to keep their
non-expired tokens as before.</p>
</blockquote>
<p>
<strong>-l</strong>, <strong>–lock</strong></p>
<blockquote>
<p>Lock the password of the named account. This option disables a password
by changing it to a value which matches no possible encrypted value (it
adds a ´!´ at the beginning of the password).</p>
<p>
Note that this does not disable the account. The user may still be able
to login using another authentication token (e.g. an SSH key). To
disable the account, administrators should use <strong>usermod –expiredate 1</strong>
(this set the accounts expire date to Jan 2, 1970).</p>
<p>
Users with a locked password are not allowed to change their password.</p>
</blockquote>
<p>
<strong>-n</strong>, <strong>–mindays</strong> <em>MIN_DAYS</em></p>
<blockquote>
<p>Set the minimum number of days between password changes to <em>MIN_DAYS</em>. A
value of zero for this field indicates that the user may change their
password at any time.</p>
</blockquote>
<p>
<strong>-q</strong>, <strong>–quiet</strong></p>
<blockquote>
<p>Quiet mode.</p>
</blockquote>
<p>
<strong>-r</strong>, <strong>–repository</strong> <em>REPOSITORY</em></p>
<blockquote>
<p>change password in <em>REPOSITORY</em> repository</p>
</blockquote>
<p>
<strong>-R</strong>, <strong>–root</strong> <em>CHROOT_DIR</em></p>
<blockquote>
<p>Apply changes in the <em>CHROOT_DIR</em> directory and use the configuration
files from the <em>CHROOT_DIR</em> directory. Only absolute paths are
supported.</p>
</blockquote>
<p>
<strong>-P</strong>, <strong>–prefix</strong> <em>PREFIX_DIR</em></p>
<blockquote>
<p>Apply changes to configuration files under the root filesystem found
under the directory <em>PREFIX_DIR</em>. This option does not chroot and is
intended for preparing a cross-compilation target. Some limitations: NIS
and LDAP users/groups are not verified. PAM authentication is using the
host files. No SELINUX support.</p>
</blockquote>
<p>
<strong>-S</strong>, <strong>–status</strong></p>
<blockquote>
<p>Display account status information. The status information consists of 7
fields. The first field is the users login name. The second field
indicates if the user account has a locked password (L), has no password
(NP), or has a usable password (P). The third field gives the date of
the last password change. The next four fields are the minimum age,
maximum age, warning period, and inactivity period for the password.
These ages are expressed in days.</p>
</blockquote>
<p>
<strong>-u</strong>, <strong>–unlock</strong></p>
<blockquote>
<p>Unlock the password of the named account. This option re-enables a
password by changing the password back to its previous value (to the
value before using the <strong>-l</strong> option).</p>
</blockquote>
<p>
<strong>-w</strong>, <strong>–warndays</strong> <em>WARN_DAYS</em></p>
<blockquote>
<p>Set the number of days of warning before a password change is required.
The <em>WARN_DAYS</em> option is the number of days prior to the password
expiring that a user will be warned that their password is about to
expire.</p>
</blockquote>
<p>
<strong>-x</strong>, <strong>–maxdays</strong> <em>MAX_DAYS</em></p>
<blockquote>
<p>Set the maximum number of days a password remains valid. After
<em>MAX_DAYS</em>, the password is required to be changed.</p>
<p>
Passing the number <em>-1</em> as <em>MAX_DAYS</em> will remove checking a passwords
validity.</p>
</blockquote>
<p>
<strong>-s</strong>, <strong>–stdin</strong></p>
<blockquote>
<p>This option is used to indicate that passwd should read the new password
from standard input, which can be a pipe.</p>
</blockquote>
</div>
</div>
<div id="outline-container-headline-7" class="outline-2">
<h2 id="headline-7">
CAVEATS
</h2>
<div id="outline-text-headline-7" class="outline-text-2">
<p>Password complexity checking may vary from site to site. The user is
urged to select a password as complex as he or she feels comfortable
with.</p>
<p>
Users may not be able to change their password on a system if NIS is
enabled and they are not logged into the NIS server.</p>
<p>
<strong>passwd</strong> uses PAM to authenticate users and to change their passwords.</p>
</div>
</div>
<div id="outline-container-headline-8" class="outline-2">
<h2 id="headline-8">
FILES
</h2>
<div id="outline-text-headline-8" class="outline-text-2">
<p>/etc/passwd</p>
<blockquote>
<p>User account information.</p>
</blockquote>
<p>
/etc/shadow</p>
<blockquote>
<p>Secure user account information.</p>
</blockquote>
<p>
/etc/pam.d/passwd</p>
<blockquote>
<p>PAM configuration for <strong>passwd</strong>.</p>
</blockquote>
</div>
</div>
<div id="outline-container-headline-9" class="outline-2">
<h2 id="headline-9">
EXIT VALUES
</h2>
<div id="outline-text-headline-9" class="outline-text-2">
<p>The <strong>passwd</strong> command exits with the following values:</p>
<p>
<em>0</em></p>
<blockquote>
<p>success</p>
</blockquote>
<p>
<em>1</em></p>
<blockquote>
<p>permission denied</p>
</blockquote>
<p>
<em>2</em></p>
<blockquote>
<p>invalid combination of options</p>
</blockquote>
<p>
<em>3</em></p>
<blockquote>
<p>unexpected failure, nothing done</p>
</blockquote>
<p>
<em>4</em></p>
<blockquote>
<p>unexpected failure, passwd file missing</p>
</blockquote>
<p>
<em>5</em></p>
<blockquote>
<p>passwd file busy, try again</p>
</blockquote>
<p>
<em>6</em></p>
<blockquote>
<p>invalid argument to option</p>
</blockquote>
</div>
</div>
<div id="outline-container-headline-10" class="outline-2">
<h2 id="headline-10">
SEE ALSO
</h2>
<div id="outline-text-headline-10" class="outline-text-2">
<p>*chpasswd*(8), *makepasswd*(1), *passwd*(5), *shadow*(5), *usermod*(8).</p>
<p>
The following web page comically (yet correctly) compares the strength
of two different methods for choosing a password:
&#34;<a href="https://xkcd.com/936/">https://xkcd.com/936/</a>&#34;</p>
</div>
</div>


        </main>
        <footer class="container footer">
            <p>Copyright 2024. All rights reserved.</p>

        </footer>

        
        

        
            <script src="/js/main.95916b5b8c09add4922ea47e674b5da7fc4b6347a3e8c4e25e98b4b7d236080b.js" integrity="sha256-lZFrW4wJrdSSLqR&#43;Z0tdp/xLY0ej6MTiXpi0t9I2CAs=" crossorigin="anonymous"></script>
    </body>
</html>
